<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2025-08 on</title><link>https://yshghid.github.io/tags/2025-08/</link><description>Recent content in 2025-08 on</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sat, 09 Aug 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://yshghid.github.io/tags/2025-08/index.xml" rel="self" type="application/rss+xml"/><item><title>ìƒì„±í˜• AI #1 ìƒì„±í˜• AI ê¸°ì´ˆ ë° Prompt Engineering</title><link>https://yshghid.github.io/docs/study/ai/ai18/</link><pubDate>Sat, 09 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai18/</guid><description>&lt;h1 id="ìƒì„±í˜•-ai-1-ìƒì„±í˜•-ai-ê¸°ì´ˆ-ë°-prompt-engineering">
 ìƒì„±í˜• AI #1 ìƒì„±í˜• AI ê¸°ì´ˆ ë° Prompt Engineering
 &lt;a class="anchor" href="#%ec%83%9d%ec%84%b1%ed%98%95-ai-1-%ec%83%9d%ec%84%b1%ed%98%95-ai-%ea%b8%b0%ec%b4%88-%eb%b0%8f-prompt-engineering">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-09&lt;/p>
&lt;hr>
&lt;p>&lt;mark>#1 RAG&lt;/mark> (p.27)&lt;/p>
&lt;p>RAGì˜ ì—­í• ?&lt;/p>
&lt;ul>
&lt;li>ì§ˆë¬¸ì„ LLMì— ë˜ì§€ê¸° ì „ì— knowledge corpusì— ì§ˆë¬¸ì„ ë¯¸ë¦¬ ê²€ìƒ‰í•œë‹¤(íšŒì‚¬ ë°ì´í„°ì— ëŒ€í•œ ì§€ì‹ ë²¡í„° db).
&lt;ul>
&lt;li>ì§ˆë¬¸ê³¼ ì—°ê´€ëœ ë¬¸ì„œë¥¼ ì°¾ê³  ì ì ˆí•˜ê²Œ ë§Œë“¤ì–´ì„œ retrieval ë˜ì§€ë©´ ì˜ë„ëŒ€ë¡œ ë‹µë³€ì´ ì˜ ë‚˜ì˜¨ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>#2 LLM ì¶œë ¥ êµ¬ì„±&lt;/mark> (p.42-45)&lt;/p>
&lt;p>Output Length (Max Tockens)&lt;/p>
&lt;ul>
&lt;li>500ìë¡œ ì œí•œì„ ê±¸ë©´ 500ìë¡œ ë§ì¶°ì£¼ëŠ”ê²Œ ì•„ë‹ˆë¼ 500ì ë„˜ìœ¼ë©´ ì¶œë ¥ì„ ë©ˆì¶˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>Sampling Controls&lt;/p>
&lt;ul>
&lt;li>
&lt;p>LLMì€ ë‹¤ìŒì— ì˜¬ ë‹¨ì–´ë¥¼ ê³ ë¥¼ ë•Œ ë¯¸ë¦¬ ê³„ì‚°ëœ ì‚¬ì „ í™•ë¥ ë¶„í¬ë¥¼ ê°€ì§€ê³  ê±°ê¸°ì„œ í•˜ë‚˜ë¥¼ ë½‘ëŠ”ë‹¤&lt;/p></description></item><item><title>ìƒì„±í˜• AI #2 Prompt Engineering ì‹¤ìŠµ ë¯¸ë¦¬ëŒë ¤ë³´ê¸°</title><link>https://yshghid.github.io/docs/study/ai/ai19/</link><pubDate>Sat, 09 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai19/</guid><description>&lt;h1 id="ìƒì„±í˜•-ai-2-prompt-engineering-ì‹¤ìŠµ-ë¯¸ë¦¬ëŒë ¤ë³´ê¸°">
 ìƒì„±í˜• AI #2 Prompt Engineering ì‹¤ìŠµ ë¯¸ë¦¬ëŒë ¤ë³´ê¸°
 &lt;a class="anchor" href="#%ec%83%9d%ec%84%b1%ed%98%95-ai-2-prompt-engineering-%ec%8b%a4%ec%8a%b5-%eb%af%b8%eb%a6%ac%eb%8f%8c%eb%a0%a4%eb%b3%b4%ea%b8%b0">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-09&lt;/p>
&lt;hr>
&lt;h3 id="1-voc-ë¶„ì„">
 1. VOC ë¶„ì„
 &lt;a class="anchor" href="#1-voc-%eb%b6%84%ec%84%9d">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>setting&lt;/mark>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://openrouter.ai/">https://openrouter.ai/&lt;/a>&lt;/li>
&lt;li>Model: GPT-5&lt;/li>
&lt;li>Temperature: 0.2 (ë‚®ê²Œ: ì¼ê´€ì„± ìˆëŠ” ë¶„ë¥˜ ê²°ê³¼)&lt;/li>
&lt;li>Top-k / Top-p: default&lt;/li>
&lt;li>Max tokens: 1024&lt;/li>
&lt;/ul>
&lt;p>&lt;mark>system prompt&lt;/mark>&lt;/p>
&lt;pre tabindex="0">&lt;code>ë„ˆëŠ” IT ì‹œìŠ¤í…œì˜ í‰ê°€ì „ë¬¸ê°€ì•¼. 
ì´ë²ˆì— ê°œë°œí•œ AIë¥¼ ì ìš©í•œ íšŒê³„ì„¸ë¬´ ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸í•œ ê³ ê°ì˜ í‰ê°€ë‚´ìš©ì¸ VOCë¥¼ ë¶„ì„í•˜ëŠ” ê²ƒì´ ë„ˆì˜ ì—­í• ì´ì•¼. 
íŒë‹¨ê·¼ê±°ë¥¼ 2ê°€ì§€ë¡œ í•¨ê»˜ ì œì‹œí•´ì¤˜.
&lt;/code>&lt;/pre>&lt;p>&lt;mark>user prompt&lt;/mark>&lt;/p>
&lt;pre tabindex="0">&lt;code>ì•„ë˜ì— ì œê³µí•˜ëŠ” ëª¨ë“  VOC ë¬¸ì¥ì„ ê¸ì •, ì¤‘ë¦½, ë¶€ì • ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜í•˜ê³ , 
íŠ¹íˆ ë¶€ì •ì¼ ê²½ìš° ê·¸ë ‡ê²Œ íŒë‹¨í•œ ì´ìœ ë¥¼ 2ê°€ì§€ë¡œ ìš”ì•½í•´ì¤˜. 
ê²°ê³¼ëŠ” í‘œ í˜•íƒœë¡œ [ë²ˆí˜¸ | VOC ë‚´ìš© | ë¶„ë¥˜ | íŒë‹¨ ê·¼ê±°] í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•´.

VOC ë°ì´í„°:
1. ë³µì¡í•œ ì—‘ì…€ ì •ë¦¬ì—ì„œ í•´ë°©ëì–´ìš”. ê¸°ì¡´ ìˆ˜ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•˜ë˜ ë§¤ì¶œ/ë¹„ìš© ë¶„ì„ì„ ìë™í™”í•´ ì‹œê°„ ì ˆì•½ íš¨ê³¼ë¥¼ ì²´ê°í–ˆìŠµë‹ˆë‹¤.
2. íšŒê³„ ë¹„ì „ë¬¸ê°€ì¸ ë§ˆì¼€íŒ… ë‹´ë‹¹ìë„ ì¬ë¬´ ì§€í‘œì˜ ì˜ë¯¸ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
3. AI ì¶”ì²œ ë•ë¶„ì— ì„¸ë¬´ ìœ„í—˜ì„ ë¯¸ë¦¬ ì¸ì§€í–ˆì–´ìš”. ì‹¤ì œë¡œ ë¶€ê°€ì„¸ ëˆ„ë½ ê°€ëŠ¥ì„±ì„ ì‚¬ì „ì— ì•Œë¦¼ ë°›ì•„, ì‹¤ì œ ì‹ ê³  ì „ì— ì •ì •í•  ìˆ˜ ìˆì—ˆë˜ ì ì´ ìœ ìš©í–ˆìŠµë‹ˆë‹¤.
4. ì‹¤ì‹œê°„ìœ¼ë¡œ í˜„ê¸ˆíë¦„ì„ ì¶”ì í•  ìˆ˜ ìˆì–´ ì¢‹ì•˜ìŠµë‹ˆë‹¤. íšŒê³„íŒ€ ì—†ì´ë„ ë§¤ì£¼ ìê¸ˆ íë¦„ì„ íŒŒì•…í•˜ê³  ì˜ì‚¬ê²°ì •ì— ë°˜ì˜í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
5. ì²˜ìŒì—ë§Œ ê°€ì´ë“œë¥¼ ë°›ê³  ë‚˜ë‹ˆ ë°˜ë³µ ì‘ì—…ì´ ë†€ëë„ë¡ ê°„ë‹¨í•´ì¡ŒìŠµë‹ˆë‹¤. ì„¤ì •ë§Œ ëë‚˜ë©´ ì´í›„ ë°˜ë³µ ì—…ë¬´ì—ì„œ ìë™í™”ëœ ê²°ê³¼ë¬¼ì´ ê¸°ëŒ€ ì´ìƒìœ¼ë¡œ ì¢‹ë„¤ìš”.
6. ê¸°ëŠ¥ì€ í¥ë¯¸ë¡­ì§€ë§Œ, ì‹¤ì œ ì—…ë¬´ì— ì–´ë–»ê²Œ ë…¹ì—¬ì•¼ í• ì§€ ê³ ë¯¼ì´ ë©ë‹ˆë‹¤. ì‹œìŠ¤í…œì´ ë‚¯ì„¤ê³  ê¸°ì¡´ ì›Œí¬í”Œë¡œìš°ì™€ ë§ë¬¼ë¦¬ëŠ” ë° ì‹œê°„ì´ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.
7. ì˜ˆìœ ê·¸ë˜í”„ê°€ ë§ê¸´ í•˜ì§€ë§Œ ì‹¤ë¬´ìƒ ì˜ë¯¸ê°€ ëšœë ·í•˜ê²Œ ì™€ ë‹¿ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.
8. AIê°€ ì¶”ì²œí•´ì£¼ëŠ” ë¶„ì„ì€ í¥ë¯¸ë¡œì› ì§€ë§Œ, ìµœì¢… ê²°ì •ì€ ì—¬ì „íˆ ì‚¬ëŒì´ í•´ì•¼ê² ë”ë¼ê³ ìš”. ì™„ì „í•œ ìë™í™”ë³´ë‹¤ëŠ” ë³´ì¡° ë„êµ¬ë¡œ ë³´ëŠ” ê²ƒì´ í˜„ì‹¤ì ì´ë¼ ëŠê¼ˆìŠµë‹ˆë‹¤.
9. í”¼ë²— ê¸°ëŠ¥ì´ë‚˜ ë“œë¦´ë‹¤ìš´ ê¸°ëŠ¥ì´ ìˆì—ˆìœ¼ë©´ ë” ì¢‹ì„ ê²ƒ ê°™ê¸´ í•´ìš”. ë³´ê³ ì„œ ê²°ê³¼ëŠ” ì§ê´€ì ì´ì§€ë§Œ, ì¢€ ë” ìƒì„¸ ë°ì´í„°ë¥¼ ë³´ê³  ì‹¶ì„ ë•Œ ì•„ì‰¬ì›€ì´ ìˆìŠµë‹ˆë‹¤.
10. íšŒê³„ ì „ë¬¸ê°€ ì…ì¥ì—ì„œëŠ” ë³´ì•ˆì´ í•„ìš”í•´ ë³´ì´ì§€ë§Œ, ì¼ë°˜ ì‚¬ìš©ìì—ê² ì í•©í•  ìˆ˜ë„ ìˆê² ë„¤ìš”. ì–´ë–¤ ê³ ê°ì„ ì£¼ ëŒ€ìƒìœ¼ë¡œ í• ì§€ ë” ëª…í™•í•˜ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.
11. ì¼ë¶€ ê¸°ëŠ¥ì€ ëŒ€ê¸°ì—… íšŒê³„ ê¸°ì¤€ì— ë§ì¶°ì ¸ ìˆì–´ ê°„í¸í•œ ì‚¬ìš©ì„ ê¸°ëŒ€í•œ ì†Œê·œëª¨ ê¸°ì—…ì—ëŠ” ê³¼ë„í–ˆìŠµë‹ˆë‹¤.
12. AI ì„¤ëª…ì´ ë¶€ì¡±í•´ ë¶ˆì•ˆí–ˆì–´ìš”. AIê°€ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨í–ˆëŠ”ì§€, ê·¼ê±°ê°€ ë¶ˆíˆ¬ëª…í•´ ê²€í† ì— ì‹œê°„ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.
13. ì—‘ì…€ ì—°ë™ ì‹œ í¬ë§· ì˜¤ë¥˜ê°€ ì¦ì•˜ìŠµë‹ˆë‹¤. ì—…ë¡œë“œí•œ ìë£Œê°€ í‘œì¤€ í¬ë§·ì´ ì•„ë‹ ê²½ìš° ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
14. ì´ˆê¸° ì„¸íŒ…ì— ì‹œê°„ì´ ì¢€ ê±¸ë ¸ìŠµë‹ˆë‹¤. ê³„ì •ê³¼ëª© ì—°ê²°, ì€í–‰ ê³„ì¢Œ ì—°ë™ ë“± ì´ˆê¸° ì„¤ì •ì„ ë§ˆì¹˜ê¸°ê¹Œì§€ ë‹¤ì†Œ ë³µì¡í•˜ê²Œ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.
15. ì‚¬ìš©ìë³„ ì ‘ê·¼ ê¶Œí•œ ì„¤ì •ì´ ë” ì„¸ë¶„í™”ë˜ì—ˆìœ¼ë©´ í•©ë‹ˆë‹¤. íŒ€ ë‚´ ë‹¤ì–‘í•œ ì—­í• ë³„ë¡œ ë³´ê¸° ê¶Œí•œì„ êµ¬ë¶„í•˜ê³  ì‹¶ì—ˆëŠ”ë° í˜„ì¬ëŠ” ì œí•œì ì´ì—ˆìŠµë‹ˆë‹¤.
&lt;/code>&lt;/pre>&lt;p>&lt;mark>result&lt;/mark>&lt;/p></description></item><item><title>ë°ì´í„° ë¶„ì„ #3 íšŒê·€ë¶„ì„</title><link>https://yshghid.github.io/docs/study/ai/ai17/</link><pubDate>Thu, 07 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai17/</guid><description>&lt;h1 id="ë°ì´í„°-ë¶„ì„-3-íšŒê·€ë¶„ì„">
 ë°ì´í„° ë¶„ì„ #3 íšŒê·€ë¶„ì„
 &lt;a class="anchor" href="#%eb%8d%b0%ec%9d%b4%ed%84%b0-%eb%b6%84%ec%84%9d-3-%ed%9a%8c%ea%b7%80%eb%b6%84%ec%84%9d">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-07&lt;/p>
&lt;hr>
&lt;p>&lt;mark>#1 Oversampling Techinique&lt;/mark> (p.69-71)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>SMOTE&lt;/p>
&lt;img width="376" height="136" alt="image" src="https://github.com/user-attachments/assets/8fc7ce10-eef3-486a-9432-b6cdb032085b" />
&lt;ul>
&lt;li>ì†Œìˆ˜ í´ë˜ìŠ¤ í¬ì¸íŠ¸ ì¤‘ í•˜ë‚˜ë¥¼ ëœë¤í•˜ê²Œ ê³ ë¥´ê³ &lt;/li>
&lt;li>ì´ì›ƒ í¬ì¸íŠ¸ kê°œë¥¼ ì°¾ê³ &lt;/li>
&lt;li>ì´ ì´ì›ƒë“¤ê³¼ì˜ ì—°ê²°ì„ ì„ ë”°ë¼ ì¤‘ê°„ ì–´ë”˜ê°€ì— ìƒˆë¡œìš´ ìƒ˜í”Œì„ ë§Œë“ ë‹¤.
&lt;ul>
&lt;li>ì¦‰ ì›ë³¸ê³¼ ì´ì›ƒ ì‚¬ì´ì— ìœ„ì¹˜í•œ ì ë“¤ì„ ìƒì„±í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì†Œìˆ˜ í´ë˜ìŠ¤ í¬ì¸íŠ¸ë“¤ ì‚¬ì´ì˜ ì§ì„  ìœ„ì—ì„œë§Œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œëŠ” decision boundary ê·¼ì²˜ì—ì„œ ì¤‘ìš”í•œ ë°ì´í„°ë¥¼ ë†“ì¹  ìˆ˜ ìˆë‹¤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Borderline-SMOTE&lt;/p>
&lt;img width="365" height="134" alt="image" src="https://github.com/user-attachments/assets/97c5ac14-d0f2-493b-9181-b5dc534b412b" />
&lt;ul>
&lt;li>ì†Œìˆ˜ í´ë˜ìŠ¤ì˜ í¬ì¸íŠ¸ì— ëŒ€í•´ kNNì„ ìˆ˜í–‰í•´ì„œ ì´ì›ƒë“¤ì„ ì°¾ëŠ”ë°
&lt;ul>
&lt;li>ì´ë•Œ ì´ì›ƒ ì¤‘ì—ì„œ ê³¼ë°˜ìˆ˜ ì´ìƒì´ ë‹¤ìˆ˜ í´ë˜ìŠ¤ì¸ ê²½ìš° ìœ„í—˜í•œ ìƒ˜í”Œ(danger set)ìœ¼ë¡œ ê°„ì£¼ëœë‹¤ ì¦‰ ì´ ìƒ˜í”Œì€ ê²°ì • ê²½ê³„ì— ê°€ê¹ê¸° ë•Œë¬¸ì— ëª¨ë¸ ì…ì¥ì—ì„œ í—·ê°ˆë¦´ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.&lt;/li>
&lt;li>ê·¸ëŸ° danger setì— ëŒ€í•´ì„œë§Œ SMOTEë¥¼ ìˆ˜í–‰í•˜ì—¬ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ìƒì„±í•´ì„œ decision boundary ê·¼ì²˜ì˜ ì†Œìˆ˜ í´ë˜ìŠ¤ ë°€ë„ë¥¼ ë†’ì¸ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë¸ì´ ì¤‘ìš”í•œ ê²½ê³„ ì˜ì—­ì—ì„œì˜ ì†Œìˆ˜ í´ë˜ìŠ¤ë¥¼ ë” ì˜ ì¸ì‹í•˜ë„ë¡ ë„ì™€ì¤„ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ADASYN&lt;/p></description></item><item><title>ë°ì´í„° ë¶„ì„ #2 Preprocessing</title><link>https://yshghid.github.io/docs/study/ai/ai16/</link><pubDate>Wed, 06 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai16/</guid><description>&lt;h1 id="ë°ì´í„°-ë¶„ì„-2-preprocessing">
 ë°ì´í„° ë¶„ì„ #2 Preprocessing
 &lt;a class="anchor" href="#%eb%8d%b0%ec%9d%b4%ed%84%b0-%eb%b6%84%ec%84%9d-2-preprocessing">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-06&lt;/p>
&lt;hr>
&lt;p>&lt;mark>#1 ë¨¸ì‹ ëŸ¬ë‹ í”„ë¡œì„¸ìŠ¤&lt;/mark> (p.25)&lt;/p>
 &lt;img width="499" height="260" alt="image" src="https://github.com/user-attachments/assets/80033421-9fe4-4651-8318-7b6151aa0533" />
&lt;ul>
&lt;li>test dataê°€ í•„ìš”í•œ ì´ìœ ?
&lt;ul>
&lt;li>hyperparameter tuningì„ í•˜ë©´ì„œ validation dataëŠ” ëª¨ë¸ì´ ì´ë¯¸ ì°¸ê³ í–ˆë‹¤ ì¦‰ ê°„ì ‘ì ìœ¼ë¡œ í•™ìŠµì— ì˜í–¥ì„ ì¤¬ê¸° ë•Œë¬¸ì— ëª¨ë¸ í•™ìŠµ ê³¼ì •ì—ì„œ í•œë²ˆë„ ë³´ì§€ì•Šì€ ë°ì´í„°ê°€ í•„ìš”í•¨.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>#2 Box plot&lt;/mark> (p.38)&lt;/p>
&lt;img width="575" height="331" alt="image" src="https://github.com/user-attachments/assets/ffc57e8d-53a9-4623-a501-1180efdf0a32" />
&lt;p>ê·¸ë¦¼ì´ 7ê°œ ì°¨ì¢…ì—ì„œ ì—°ë¹„ í”Œë¡¯ì´ë¼ê³  ê°€ì •&lt;/p>
&lt;ol>
&lt;li>
&lt;p>íˆ¬ì…ëì„ë•Œ ì˜ˆì¸¡ì— ê¸ì •ì ì˜í–¥ì„ ì¤„ìˆ˜ì‡ëŠ”ê±´?&lt;/p>
&lt;ul>
&lt;li>ë‚©ì‘í•œì• ë“¤. ë‘êº¼ìš°ë©´ ëŒ€í‘œì„±ì´ ë–¨ì–´ì§„ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>2ë²ˆì—ì„œ ì´ìƒì¹˜ë“¤ì´ ë§ìœ¼ë‹ˆê¹Œ ì˜ ì²˜ë¦¬í•´ì•¼í•˜ê² ë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë§Œì•½ ê·¸ë¦¼ê°™ì§€ ì•Šê³  yì¶• ë†’ì´ê°€ ë‹¤ ë¹„ìŠ·ë¹„ìŠ·í–ˆë‹¤ë©´?&lt;/p></description></item><item><title>MutClust ì•Œê³ ë¦¬ì¦˜ ë¡œì§ì •ë¦¬ #1 expand_cluster</title><link>https://yshghid.github.io/docs/study/algorithm/algo13/</link><pubDate>Tue, 05 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo13/</guid><description>&lt;h1 id="mutclust-ì•Œê³ ë¦¬ì¦˜-ë¡œì§ì •ë¦¬-1-expand_cluster">
 MutClust ì•Œê³ ë¦¬ì¦˜ ë¡œì§ì •ë¦¬ #1 expand_cluster
 &lt;a class="anchor" href="#mutclust-%ec%95%8c%ea%b3%a0%eb%a6%ac%ec%a6%98-%eb%a1%9c%ec%a7%81%ec%a0%95%eb%a6%ac-1-expand_cluster">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-05&lt;/p>
&lt;hr>
&lt;h3 id="1-input">
 1. input
 &lt;a class="anchor" href="#1-input">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">expand_cluster&lt;/span>(ccmIdx, mutData, info):
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>ccmì˜ ì¸ë±ìŠ¤ ccmIdx&lt;/li>
&lt;li>ëŒì—°ë³€ì´ ì¤‘ìš”ë„ ì •ë³´ mutData&lt;/li>
&lt;li>info: ê¸°ë³¸ ì„¸íŒ… íŒŒë¼ë¯¸í„°&lt;/li>
&lt;/ul>
&lt;h3 id="2">
 2
 &lt;a class="anchor" href="#2">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>scaler_l &lt;span style="color:#f92672">=&lt;/span> mutData[ccmIdx][&lt;span style="color:#e6db74">&amp;#39;eps_scaler&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>idx_l &lt;span style="color:#f92672">=&lt;/span> ccmIdx &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>eps_l &lt;span style="color:#f92672">=&lt;/span> mutData[ccmIdx][&lt;span style="color:#e6db74">&amp;#39;left_distance&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pos_l &lt;span style="color:#f92672">=&lt;/span> mutData[ccmIdx][POS]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>#ë³€ìˆ˜ì„¤ëª…&lt;/p>
&lt;ul>
&lt;li>scaler_l: ccmì˜ eps scaler&lt;/li>
&lt;li>idx_l: ìµœì´ˆ ì´ì›ƒì˜ ì¸ë±ìŠ¤&lt;/li>
&lt;li>eps_l: ccmì˜ ìµœì´ˆ eps&lt;/li>
&lt;li>pos_l: ccmì˜ postion&lt;/li>
&lt;/ul>
&lt;h3 id="3">
 3
 &lt;a class="anchor" href="#3">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">while&lt;/span> idx_l &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">and&lt;/span> (pos_l &lt;span style="color:#f92672">-&lt;/span> mutData[idx_l][POS]) &lt;span style="color:#f92672">&amp;lt;=&lt;/span> eps_l:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> delta &lt;span style="color:#f92672">=&lt;/span> scaler_l &lt;span style="color:#f92672">-&lt;/span> mutData[idx_l][&lt;span style="color:#e6db74">&amp;#39;eps_scaler&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> scaler_l &lt;span style="color:#f92672">-=&lt;/span> delta &lt;span style="color:#f92672">/&lt;/span> info&lt;span style="color:#f92672">.&lt;/span>es_control_const
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> eps_l &lt;span style="color:#f92672">=&lt;/span> max(info&lt;span style="color:#f92672">.&lt;/span>eps &lt;span style="color:#f92672">*&lt;/span> scaler_l, &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx_l &lt;span style="color:#f92672">-=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>#Logic&lt;/p></description></item><item><title>Python #1 ê°€ìƒí™˜ê²½ êµ¬ì„± ë° íŒ¨í‚¤ì§€ ê´€ë¦¬</title><link>https://yshghid.github.io/docs/study/algorithm/algo11/</link><pubDate>Tue, 05 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo11/</guid><description>&lt;h1 id="python-1-ê°€ìƒí™˜ê²½-êµ¬ì„±-ë°-íŒ¨í‚¤ì§€-ê´€ë¦¬">
 Python #1 ê°€ìƒí™˜ê²½ êµ¬ì„± ë° íŒ¨í‚¤ì§€ ê´€ë¦¬
 &lt;a class="anchor" href="#python-1-%ea%b0%80%ec%83%81%ed%99%98%ea%b2%bd-%ea%b5%ac%ec%84%b1-%eb%b0%8f-%ed%8c%a8%ed%82%a4%ec%a7%80-%ea%b4%80%eb%a6%ac">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-05&lt;/p>
&lt;hr>
&lt;h3 id="1-ê°œë…">
 1. ê°œë…
 &lt;a class="anchor" href="#1-%ea%b0%9c%eb%85%90">#&lt;/a>
&lt;/h3>
&lt;p>#1 ê°€ìƒí™˜ê²½ì˜ í•„ìš”ì„±?&lt;/p>
&lt;p>ìš°ë¦¬ê°€ íŒŒì´ì¬ì„ ì‚¬ìš©í•  ë•Œ, ê°€ì¥ ë¨¼ì € ê²ªê²Œ ë˜ëŠ” ë¬¸ì œ ì¤‘ í•˜ë‚˜ëŠ” ë°”ë¡œ íŒ¨í‚¤ì§€ ë²„ì „ ì¶©ëŒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ í”„ë¡œì íŠ¸ì—ì„œëŠ” numpy==1.18.5 ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆê³ , ë˜ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” numpy==1.24.0 ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  í•˜ë©´ ì´ ë‘˜ì„ ë™ì‹œì— í•˜ë‚˜ì˜ í™˜ê²½ì— ì„¤ì¹˜í•˜ê²Œ ë˜ë©´ ì¶©ëŒì´ ì¼ì–´ë‚˜ê±°ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ì»¤ì§„ë‹¤. íŠ¹íˆ ë¨¸ì‹ ëŸ¬ë‹, ë°ì´í„°ë¶„ì„, ì›¹ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‹¤ ë³´ë©´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ì™€ ë²„ì „ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë¬¸ì œëŠ” ì¼ìƒì ìœ¼ë¡œ ë°œìƒí•˜ë©° ë”°ë¼ì„œ ê° í”„ë¡œì íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” â€˜ê°€ìƒí™˜ê²½(Virtual Environment)â€™ì„ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.&lt;/p></description></item><item><title>Python #2 logging í™œìš©í•œ ë¡œê¹… êµ¬ì¡° ì„¤ê³„ ê´€ë¦¬</title><link>https://yshghid.github.io/docs/study/algorithm/algo12/</link><pubDate>Tue, 05 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo12/</guid><description>&lt;h1 id="python-2-logging-í™œìš©í•œ-ë¡œê¹…-êµ¬ì¡°-ì„¤ê³„">
 Python #2 logging í™œìš©í•œ ë¡œê¹… êµ¬ì¡° ì„¤ê³„
 &lt;a class="anchor" href="#python-2-logging-%ed%99%9c%ec%9a%a9%ed%95%9c-%eb%a1%9c%ea%b9%85-%ea%b5%ac%ec%a1%b0-%ec%84%a4%ea%b3%84">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-05&lt;/p>
&lt;hr>
&lt;h3 id="1-ê°œë…">
 1. ê°œë…
 &lt;a class="anchor" href="#1-%ea%b0%9c%eb%85%90">#&lt;/a>
&lt;/h3>
&lt;p>loggingì€ ì‹¤í–‰ ì¤‘ ì¼ì–´ë‚˜ëŠ” ë‹¤ì–‘í•œ ì´ë²¤íŠ¸, ê²½ê³ , ì—ëŸ¬, ì •ë³´ ë“±ì„ ê¸°ë¡í•´ë‘ê³ , ë‚˜ì¤‘ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ì •í™•íˆ ì–´ë–¤ ì¼ì´ ìˆì—ˆëŠ”ì§€ ê¸°ë¡ì„ í†µí•´ ì¬êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.&lt;/p>
&lt;h3 id="2-ì‹¤ìŠµ">
 2. ì‹¤ìŠµ
 &lt;a class="anchor" href="#2-%ec%8b%a4%ec%8a%b5">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ë°ì´í„° ë¶„ì„ #1 ê¸°ì´ˆí†µê³„</title><link>https://yshghid.github.io/docs/study/ai/ai14/</link><pubDate>Tue, 05 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai14/</guid><description>&lt;h1 id="ë°ì´í„°-ë¶„ì„-1-ê¸°ì´ˆí†µê³„">
 ë°ì´í„° ë¶„ì„ #1 ê¸°ì´ˆí†µê³„
 &lt;a class="anchor" href="#%eb%8d%b0%ec%9d%b4%ed%84%b0-%eb%b6%84%ec%84%9d-1-%ea%b8%b0%ec%b4%88%ed%86%b5%ea%b3%84">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-05&lt;/p>
&lt;hr>
&lt;h3 id="1-ê¸°ìˆ -í†µê³„">
 1. ê¸°ìˆ  í†µê³„
 &lt;a class="anchor" href="#1-%ea%b8%b0%ec%88%a0-%ed%86%b5%ea%b3%84">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>#1 IQR&lt;/mark> (p.34)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>IQRì€? ê°€ìš´ë° 50%ì˜ ê±°ë¦¬.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ê·¸ë¦¼ ì„¤ëª…&lt;/p>
&lt;img width="265" height="219" alt="image" src="https://github.com/user-attachments/assets/0f803bf5-51b7-4a32-9a75-95672ecfe8be" />
&lt;ul>
&lt;li>ê·¸ë¦¼ì˜ 2,3: ê°ê° IQRì˜ 1.5ë°° ì„ , median ê°’ ì„ .&lt;/li>
&lt;li>ê·¸ë¦¼ì˜ B: âš¬ ê°€ ë§ìœ¼ë©´ íŠ¹ì´ê°’ì´ ë§ì€ ê²ƒ.&lt;/li>
&lt;li>ê·¸ë¦¼ì˜ 1,2,3: 1,2ëŠ” ê°ê° IQRì˜ 1.5ë°° ì„ ì´ë¼ê³  í–ˆëŠ”ë° 3ê³¼ì˜ ê±°ë¦¬ê°€ ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ëŠ”? 1.5ë°° ì•ˆìª½ì— ë°ì´í„°ë“¤ì´ ë‹¤ ë¶„í¬í•´ì„œ. ì¦‰maxê°€ 1.5ë°°ë³´ë‹¤ ì‘ì•„ì„œ.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>#2 ë³€ì´ ê³„ìˆ˜(Coefficient of Variables)&lt;/mark>&lt;/p>
&lt;ul>
&lt;li>í‰ê· ì¹˜ê°€ ë‹¤ë¥¸ ì§‘ë‹¨ ë¹„êµ.&lt;/li>
&lt;li>ë³€ì´ ê³„ìˆ˜ = í‘œì¤€í¸ì°¨ / í‰ê· .&lt;/li>
&lt;li>ê°’ì´ ì‘ì„ìˆ˜ë¡? í‰ê·  ê°€ê¹Œì´ì— ë¶„í¬í•œë‹¤.&lt;/li>
&lt;li>í‰ê·  ê´€ì ì—ì„œ í¼ì§ì˜ í•´ì„ -&amp;gt; ì´ìƒì¹˜ì— ë¯¼ê°í•˜ë‹¤.
&lt;ul>
&lt;li>IQRì€? ì¤‘ì•™ê°’ ê´€ì ì—ì„œ í¼ì§ì˜ í•´ì„ -&amp;gt; ì´ìƒì¹˜ì— ê°•ê±´í•˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h1>
&lt;h3 id="2-ì¶”ë¡ -í†µê³„">
 2. ì¶”ë¡  í†µê³„
 &lt;a class="anchor" href="#2-%ec%b6%94%eb%a1%a0-%ed%86%b5%ea%b3%84">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>#1 ëª¨ì§‘ë‹¨ê³¼ í‘œë³¸ì§‘ë‹¨&lt;/mark>&lt;/p></description></item><item><title>Docker #3</title><link>https://yshghid.github.io/docs/study/sw/sw16/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/sw/sw16/</guid><description>&lt;h1 id="docker-3">
 Docker #3
 &lt;a class="anchor" href="#docker-3">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;h3 id="1-ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—-ì ‘ì†í•˜ê³ -ì´ë¯¸ì§€ë¥¼-pullpushí•˜ê¸°">
 1. ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì ‘ì†í•˜ê³  ì´ë¯¸ì§€ë¥¼ pull/pushí•˜ê¸°
 &lt;a class="anchor" href="#1-%eb%a0%88%ec%a7%80%ec%8a%a4%ed%8a%b8%eb%a6%ac%ec%97%90-%ec%a0%91%ec%86%8d%ed%95%98%ea%b3%a0-%ec%9d%b4%eb%af%b8%ec%a7%80%eb%a5%bc-pullpush%ed%95%98%ea%b8%b0">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Docker ë¡œê·¸ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker login https://&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬&lt;span style="color:#f92672">}&lt;/span>.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ID: *&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Password: *&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ Login Succeeded
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì´ë¯¸ì§€ Pull (ì´ë¯¸ì§€ ë‚´ë ¤ë°›ê¸°): ì˜ˆë¥¼ ë“¤ì–´ container-linux:1.1 ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker pull &lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬&lt;span style="color:#f92672">}&lt;/span>.com/&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµid&lt;span style="color:#f92672">}&lt;/span>/container-linux:1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì´ë¯¸ì§€ Push (Image Push ì •ë³´ ì‚¬ìš©): Push ê¶Œí•œì€ ì¼ë°˜ ê³„ì •ì´ ì•„ë‹ˆë¼ ë¡œë´‡ ê³„ì •(CI/CD ìš©)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ë¡œë´‡ ê³„ì • ë¡œê·¸ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker login https://&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬&lt;span style="color:#f92672">}&lt;/span>.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ID: robot$skala25a&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Password: 1qB9cyusbNComZPHAdjNIFWinf52xaBJ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># íƒœê¹… (Tag local image)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker tag container-linux:1.1 &lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬&lt;span style="color:#f92672">}&lt;/span>.com/&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµid&lt;span style="color:#f92672">}&lt;/span>/container-linux:1.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Push&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker push &lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬&lt;span style="color:#f92672">}&lt;/span>.com/&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµid&lt;span style="color:#f92672">}&lt;/span>/container-linux:1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="2-docker-hubì—ì„œ-ìš°ë¶„íˆ¬-ì´ë¯¸ì§€-ë°›ì•„ë³´ê¸°">
 2. Docker Hubì—ì„œ ìš°ë¶„íˆ¬ ì´ë¯¸ì§€ ë°›ì•„ë³´ê¸°
 &lt;a class="anchor" href="#2-docker-hub%ec%97%90%ec%84%9c-%ec%9a%b0%eb%b6%84%ed%88%ac-%ec%9d%b4%eb%af%b8%ec%a7%80-%eb%b0%9b%ec%95%84%eb%b3%b4%ea%b8%b0">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ sudo docker pull ubuntu
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Password:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Using default tag: latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>2025/08/04 11:36:28 must use ASL logging &lt;span style="color:#f92672">(&lt;/span>which requires CGO&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> running as root
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>latest: Pulling from library/ubuntu
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>e3bd89a9dac5: Already exists 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Digest: sha256:a08e551cb33850e4740772b38217fc1796a66da2506d312abe51acda354ff061
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Status: Downloaded newer image &lt;span style="color:#66d9ef">for&lt;/span> ubuntu:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>docker.io/library/ubuntu:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ sudo docker run -it --name hello ubuntu /bin/bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root@b42933e7fe33:/# ls
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bin boot dev etc home lib media mnt opt proc root run sbin srv sys tmp usr var
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># cd, ls ëª…ë ¹ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¥¼ ë‘˜ëŸ¬ë³¸ ë’¤ exitë¥¼ ì…ë ¥í•˜ì—¬ Bash ì…¸ì—ì„œ ë¹ ì ¸ ë‚˜ì˜¤ê¸°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root@b42933e7fe33:/# exit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>exit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ sudo docker ps -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Password:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>b42933e7fe33 ubuntu &lt;span style="color:#e6db74">&amp;#34;/bin/bash&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">5&lt;/span> minutes ago Exited &lt;span style="color:#f92672">(&lt;/span>0&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">44&lt;/span> seconds ago hello
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>60fb3d8fbf89 amdp-registry.&lt;span style="color:#f92672">{&lt;/span>ì‹¤ìŠµë§í¬2&lt;span style="color:#f92672">}&lt;/span>.arm64 &lt;span style="color:#e6db74">&amp;#34;/bin/bash -c &amp;#39;ls -lâ€¦&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> hours ago Up &lt;span style="color:#ae81ff">2&lt;/span> hours 0.0.0.0:2222-&amp;gt;2222/tcp, 0.0.0.0:5173-&amp;gt;5173/tcp, 0.0.0.0:5500-&amp;gt;5500/tcp, 0.0.0.0:8080-8081-&amp;gt;8080-8081/tcp, 0.0.0.0:8443-&amp;gt;8443/tcp, 0.0.0.0:9931-&amp;gt;9931/tcp local-rde
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>de61e13a85e8 container-linux:1.1 &lt;span style="color:#e6db74">&amp;#34;python /mycode/websâ€¦&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> days ago Exited &lt;span style="color:#f92672">(&lt;/span>255&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">41&lt;/span> hours ago 0.0.0.0:8888-&amp;gt;8080/tcp my-first-container
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>883d6de5ea2c mariadb:latest &lt;span style="color:#e6db74">&amp;#34;docker-entrypoint.sâ€¦&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> days ago Exited &lt;span style="color:#f92672">(&lt;/span>255&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> days ago 0.0.0.0:3306-&amp;gt;3306/tcp 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># &amp;gt;&amp;gt; Exited (0) 44 seconds agoì¸ìƒíƒœ.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì •ì§€í•œ ì»¨í…Œì´ë„ˆ ë‹¤ì‹œ ì‹œì‘í•˜ê¸°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ sudo docker start hello
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="3-dockerfile--ëª…ë ¹ì–´-cmd-ì‹¤ìŠµ">
 3. Dockerfile : ëª…ë ¹ì–´ CMD ì‹¤ìŠµ
 &lt;a class="anchor" href="#3-dockerfile--%eb%aa%85%eb%a0%b9%ec%96%b4-cmd-%ec%8b%a4%ec%8a%b5">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># docker file ë¹Œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo docker build -t my-image .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì¶œë ¥ This is the default command&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo docker run my-image
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì¶œë ¥ Override CMD&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo docker run my-image &lt;span style="color:#e6db74">&amp;#34;Override CMD&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#&amp;gt;&amp;gt; Error&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo docker run my-image sh -c &lt;span style="color:#e6db74">&amp;#34;echo Override CMD&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="4-ì˜ë¬¸ì -ì •ë¦¬">
 4. ì˜ë¬¸ì  ì •ë¦¬
 &lt;a class="anchor" href="#4-%ec%9d%98%eb%ac%b8%ec%a0%90-%ec%a0%95%eb%a6%ac">#&lt;/a>
&lt;/h3>
&lt;p>#1 CMD?&lt;/p></description></item><item><title>Docker #4 ìì‹ ì˜ Frontend (HTML, JS, CSS) ê°œë°œ ì½”ë“œë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë§Œë“¤ê³  ì´ê²ƒì„ ì‹¤í–‰ì‹œì¼œ ë³´ì</title><link>https://yshghid.github.io/docs/study/sw/sw17/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/sw/sw17/</guid><description>&lt;h1 id="docker-4-ìì‹ ì˜-frontend-html-js-css-ê°œë°œ-ì½”ë“œë¥¼-ì»¨í…Œì´ë„ˆë¡œ-ë§Œë“¤ê³ -ì´ê²ƒì„-ì‹¤í–‰ì‹œì¼œ-ë³´ì">
 Docker #4 ìì‹ ì˜ Frontend (HTML, JS, CSS) ê°œë°œ ì½”ë“œë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë§Œë“¤ê³  ì´ê²ƒì„ ì‹¤í–‰ì‹œì¼œ ë³´ì
 &lt;a class="anchor" href="#docker-4-%ec%9e%90%ec%8b%a0%ec%9d%98-frontend-html-js-css-%ea%b0%9c%eb%b0%9c-%ec%bd%94%eb%93%9c%eb%a5%bc-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88%eb%a1%9c-%eb%a7%8c%eb%93%a4%ea%b3%a0-%ec%9d%b4%ea%b2%83%ec%9d%84-%ec%8b%a4%ed%96%89%ec%8b%9c%ec%bc%9c-%eb%b3%b4%ec%9e%90">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;p>&lt;mark>#ì¡°ê±´&lt;/mark>&lt;/p>
&lt;ol>
&lt;li>nginx:alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©&lt;/li>
&lt;li>ë…¸ì¶œ PortëŠ”80&lt;/li>
&lt;li>nginxë¥¼ì‹¤í–‰í•˜ëŠ”ë°©ì‹ì€ -nginx -g daemon off;&lt;/li>
&lt;li>nginxì˜ routing ì„¤ì •ì€ default.confì—ì„¤ì •í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;mark>#path&lt;/mark>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ pwd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/Users/yshmbid/rde/config/workspace/exec-template
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ ls
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Dockerfile default.conf deploy deploy.yaml docker-build.sh docker-push.sh service.yaml src
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="1-docker-buildshì™€-docker-pushsh-ë³µì‚¬">
 1. docker-build.shì™€ docker-push.sh ë³µì‚¬
 &lt;a class="anchor" href="#1-docker-buildsh%ec%99%80-docker-pushsh-%eb%b3%b5%ec%82%ac">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ pwd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/Users/yshmbid/rde/config/workspace/container/05.webserver
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ ls
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Dockerfile default.conf deploy docker-build.sh docker-push.sh src
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># docker-build.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME&lt;span style="color:#f92672">=&lt;/span>sk019
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>IMAGE_NAME&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;healthcheck-server&amp;#34;&lt;/span> &lt;span style="color:#75715e">#IMAGE_NAME=&amp;#34;webserver&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>VERSION&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1.0.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CPU_PLATFORM&lt;span style="color:#f92672">=&lt;/span>arm64 &lt;span style="color:#75715e">#amd64&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Docker ì´ë¯¸ì§€ ë¹Œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>docker build &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --tag &lt;span style="color:#e6db74">${&lt;/span>NAME&lt;span style="color:#e6db74">}&lt;/span>-&lt;span style="color:#e6db74">${&lt;/span>IMAGE_NAME&lt;span style="color:#e6db74">}&lt;/span>:&lt;span style="color:#e6db74">${&lt;/span>VERSION&lt;span style="color:#e6db74">}&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --file Dockerfile &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --platform linux/&lt;span style="color:#e6db74">${&lt;/span>CPU_PLATFORM&lt;span style="color:#e6db74">}&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#e6db74">${&lt;/span>IS_CACHE&lt;span style="color:#e6db74">}&lt;/span> .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>docker-build.shì—ì„œ amdì˜€ë˜ê±¸ armìœ¼ë¡œ ë°”ê¿”ì¤«ê³ &lt;/p></description></item><item><title>Docker #5 kubernetes í™˜ê²½ì— ë‚˜ì˜ ì•±ì„ ë°°í¬í•´ë³´ì</title><link>https://yshghid.github.io/docs/study/sw/sw18/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/sw/sw18/</guid><description>&lt;h1 id="docker-5-kubernetes-í™˜ê²½ì—-ë‚˜ì˜-ì•±ì„-ë°°í¬í•´ë³´ì">
 Docker #5 kubernetes í™˜ê²½ì— ë‚˜ì˜ ì•±ì„ ë°°í¬í•´ë³´ì
 &lt;a class="anchor" href="#docker-5-kubernetes-%ed%99%98%ea%b2%bd%ec%97%90-%eb%82%98%ec%9d%98-%ec%95%b1%ec%9d%84-%eb%b0%b0%ed%8f%ac%ed%95%b4%eb%b3%b4%ec%9e%90">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;p>&lt;mark>#path&lt;/mark>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ pwd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/Users/yshmbid/rde/config/workspace/exec-template
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;mark>#íŒŒì¼ êµ¬ì¡°&lt;/mark>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â””â”€â”€ exec-template
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ Dockerfile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ default.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ docker-build.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ docker-push.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ cicd.sh 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ deploy/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”‚ â”œâ”€â”€ deploy.t 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”‚ â”œâ”€â”€ deploy.sh 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”‚ â”œâ”€â”€ service.t
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”‚ â”œâ”€â”€ service.sh 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”‚ â””â”€â”€ env.properties
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ src/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â”œâ”€â”€ index.html 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ media/ 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;mark>#ì´ì „ ì‹¤ìŠµê³¼ì˜ ì°¨ì´?&lt;/mark>&lt;/p>
&lt;ol>
&lt;li>cicd.shë¥¼ ì“´ë‹¤.&lt;/li>
&lt;li>deploy ë””ë ‰í† ë¦¬ë¥¼ ì“´ë‹¤.&lt;/li>
&lt;li>docker-build.shì™€ docker-push.shì—ì„œ amdì˜€ë˜ê±¸ armìœ¼ë¡œ ë°”ê¿”ì¤¬ëŠ”ë° ì´ê±¸ë‹¤ì‹œ amdë¡œ ë°”ê¿”ì¤€ë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="1-cicdsh-ì‘ì„±">
 &lt;del>1. cicd.sh ì‘ì„± &lt;strong>(ë¶ˆí•„ìš”)&lt;/strong>&lt;/del>
 &lt;a class="anchor" href="#1-cicdsh-%ec%9e%91%ec%84%b1">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ê¸°ë³¸ê°’ ì„¤ì •&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ENV_FILE&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;env.properties&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># usage ì¶œë ¥ í•¨ìˆ˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>usage&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;Usage: &lt;/span>$0&lt;span style="color:#e6db74"> [-b|--build] [-p|--push] [-y|--yaml] [-d|--deploy] [-r|--remove] [-a|--all] [-f|--file &amp;lt;env file&amp;gt;]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> exit &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># env.properties ë¡œë“œ í•¨ìˆ˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>load_env&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">[&lt;/span> -f &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$ENV_FILE&lt;span style="color:#e6db74">&amp;#34;&lt;/span> &lt;span style="color:#f92672">]&lt;/span>; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$ENV_FILE&lt;span style="color:#e6db74">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;í™˜ê²½ íŒŒì¼ &amp;#39;&lt;/span>$ENV_FILE&lt;span style="color:#e6db74">&amp;#39;ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> exit &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Maven Build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>build&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;ğŸ”¨ Maven ë¹Œë“œ ì‹œì‘...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mvn clean package
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Docker ì´ë¯¸ì§€ build &amp;amp; push&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>push_image&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;ğŸ³ Docker ì´ë¯¸ì§€ ìƒì„± ë° push ì‹œì‘...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> docker build -t $DOCKER_IMAGE_NAME .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> docker push $DOCKER_IMAGE_NAME
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># YAML ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>generate_yaml&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;ğŸ“„ YAML íŒŒì¼ ìƒì„± ì¤‘...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> file in *.t; &lt;span style="color:#66d9ef">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[&lt;/span> -e &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$file&lt;span style="color:#e6db74">&amp;#34;&lt;/span> &lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#66d9ef">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cp &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$file&lt;span style="color:#e6db74">&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>file%.t&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">.yaml&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># K8sì— ë°°í¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deploy_k8s&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;ğŸš€ Kubernetesì— ë°°í¬ ì‹œì‘...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> kubectl apply -f ./*.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># K8s ë¦¬ì†ŒìŠ¤ ì‚­ì œ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>remove_k8s&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;ğŸ—‘ï¸ Kubernetes ë¦¬ì†ŒìŠ¤ ì œê±°...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> kubectl delete -f ./*.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì „ì²´ ì‹¤í–‰&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>run_all&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> load_env
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> push_image
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> generate_yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> deploy_k8s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì¸ì íŒŒì‹±&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">while&lt;/span> &lt;span style="color:#f92672">[[&lt;/span> &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$#&lt;span style="color:#e6db74">&amp;#34;&lt;/span> -gt &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">]]&lt;/span>; &lt;span style="color:#66d9ef">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">case&lt;/span> &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$1&lt;span style="color:#e6db74">&amp;#34;&lt;/span> in
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -b|--build&lt;span style="color:#f92672">)&lt;/span> ACTION_BUILD&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -p|--push&lt;span style="color:#f92672">)&lt;/span> ACTION_PUSH&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -y|--yaml&lt;span style="color:#f92672">)&lt;/span> ACTION_YAML&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -d|--deploy&lt;span style="color:#f92672">)&lt;/span> ACTION_DEPLOY&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -r|--remove&lt;span style="color:#f92672">)&lt;/span> ACTION_REMOVE&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -a|--all&lt;span style="color:#f92672">)&lt;/span> ACTION_ALL&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -f|--file&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> shift
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ENV_FILE&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>$1&lt;span style="color:#e6db74">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -h|--help&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> usage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> *&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">&amp;#34;âŒ ì•Œ ìˆ˜ ì—†ëŠ” ì˜µì…˜: &lt;/span>$1&lt;span style="color:#e6db74">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> usage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">esac&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> shift
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ì‹¤í–‰ ì¡°ê±´&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_ALL &lt;span style="color:#f92672">]]&lt;/span>; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> run_all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> load_env
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_BUILD &lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_PUSH &lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> push_image
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_YAML &lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> generate_yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_DEPLOY &lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> deploy_k8s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">[[&lt;/span> $ACTION_REMOVE &lt;span style="color:#f92672">]]&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> remove_k8s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>cicd.sh ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ ë‚˜ì˜¤ëŠ”ë° pptë‘ workspace ë””ë ‰í† ë¦¬ ì•ˆì— ì•„ë¬´ë¦¬ì°¾ì•„ë´ë„ ì—†ì–´ì„œ&amp;hellip; ì¼ë‹¨ ì±—ì§€í”¼í‹°ì—ë„£ê³  ë§Œë“¤ì—ˆëŠ”ë°&lt;/p></description></item><item><title>MutClust ì—°êµ¬: method contribution</title><link>https://yshghid.github.io/docs/study/algorithm/algo10/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo10/</guid><description>&lt;h1 id="mutclust-ì—°êµ¬-method-contribution">
 MutClust ì—°êµ¬: method contribution
 &lt;a class="anchor" href="#mutclust-%ec%97%b0%ea%b5%ac-method-contribution">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;p>#Paper&lt;/p>
&lt;p>Identification of Severity Related Mutation Hotspots in SARS-CoV-2 Using a Density-Based Clustering Approach&lt;/p>
&lt;h3 id="0-ì°¸ì—¬-íŒŒíŠ¸">
 0. ì°¸ì—¬ íŒŒíŠ¸
 &lt;a class="anchor" href="#0-%ec%b0%b8%ec%97%ac-%ed%8c%8c%ed%8a%b8">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>#Algorithm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Computing the H-score
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Density-based mutation hotspot clustering
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>#Omics-analysis
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Selection of severity related hotspots
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Differentially expressed gene analysis
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Evaluation of HLA-peptide affinity
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>#Validation
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ Validation on Influenza genome
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> â””â”€â”€ K-dist plot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>RF-SHAP ì—°êµ¬ #1 ëª¨ë¸ í•™ìŠµ</title><link>https://yshghid.github.io/docs/study/ai/ai12/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai12/</guid><description>&lt;h1 id="rf-shap-ì—°êµ¬-1-ëª¨ë¸-í•™ìŠµ">
 RF-SHAP ì—°êµ¬ #1 ëª¨ë¸ í•™ìŠµ
 &lt;a class="anchor" href="#rf-shap-%ec%97%b0%ea%b5%ac-1-%eb%aa%a8%eb%8d%b8-%ed%95%99%ec%8a%b5">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;h3 id="1-load-data">
 1. Load data
 &lt;a class="anchor" href="#1-load-data">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pandas &lt;span style="color:#66d9ef">as&lt;/span> pd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> numpy &lt;span style="color:#66d9ef">as&lt;/span> np
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.ensemble &lt;span style="color:#f92672">import&lt;/span> RandomForestClassifier
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.model_selection &lt;span style="color:#f92672">import&lt;/span> train_test_split, cross_val_score
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.metrics &lt;span style="color:#f92672">import&lt;/span> accuracy_score
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pickle
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">with&lt;/span> open(&lt;span style="color:#e6db74">&amp;#39;/preprocessing/processed_data.pickle&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;rb&amp;#39;&lt;/span>) &lt;span style="color:#66d9ef">as&lt;/span> f:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> preproc_data &lt;span style="color:#f92672">=&lt;/span> pickle&lt;span style="color:#f92672">.&lt;/span>load(f)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cytokine_df &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;cytokine_data&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>patient_meta &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;metadata&amp;#39;&lt;/span>] 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>patient_info &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;clinical&amp;#39;&lt;/span>] 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2-train-data-split">
 2. Train data split
 &lt;a class="anchor" href="#2-train-data-split">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>normal_df &lt;span style="color:#f92672">=&lt;/span> cytokine_df[cytokine_df&lt;span style="color:#f92672">.&lt;/span>index&lt;span style="color:#f92672">.&lt;/span>str&lt;span style="color:#f92672">.&lt;/span>contains(&lt;span style="color:#e6db74">&amp;#39;Healthy&amp;#39;&lt;/span>)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>severe_samples &lt;span style="color:#f92672">=&lt;/span> patient_meta[patient_meta&lt;span style="color:#f92672">.&lt;/span>Severity &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#ae81ff">6&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>severe_df &lt;span style="color:#f92672">=&lt;/span> cytokine_df[cytokine_df&lt;span style="color:#f92672">.&lt;/span>index&lt;span style="color:#f92672">.&lt;/span>isin(severe_samples&lt;span style="color:#f92672">.&lt;/span>Sample)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>normal_df[&lt;span style="color:#e6db74">&amp;#39;source&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>severe_df[&lt;span style="color:#e6db74">&amp;#39;source&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>normal_df,severe_df
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>( CXCL9 LIF CXCL11 IL25 IL12B IL10 \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy1 6.560136 4.251866 4.151513 7.586942 5.541050 1.843384 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy2 5.277100 4.089332 3.650800 7.886990 6.377469 2.113211 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> IL13 IL11 IL15 PTX3 ... FSTL3 FLT3LG \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy1 6.470743 6.949630 3.716450 5.163174 ... 9.613881 4.906822 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy2 6.450212 7.541794 4.181554 6.741940 ... 9.458981 4.658021 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FAP FABP4 F3 ESM1 ERBB3 ENPP2 \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy1 10.903602 7.923477 3.383774 6.034197 9.096096 10.839433 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy2 11.238270 8.730215 3.317157 5.497652 8.543655 10.454511 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> WFDC2 source 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy1 8.383246 0 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Healthy2 8.260845 0 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [2 rows x 167 columns],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CXCL9 LIF CXCL11 IL25 IL12B IL10 \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_1 7.426598 4.211594 4.429560 7.799068 6.318247 1.769972 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_2 7.541794 4.355353 4.514350 7.886990 6.741940 1.769972 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_3 7.541794 4.151513 3.933607 7.799068 6.159825 1.916796 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_4 7.130935 4.429560 3.585707 7.886990 5.612199 1.916796 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> IL13 IL11 IL15 PTX3 ... FSTL3 FLT3LG \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_1 5.725485 6.782954 3.716450 8.190382 ... 8.802718 3.042321 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_2 5.843465 6.646599 3.716450 7.496809 ... 9.008530 3.317157 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_3 5.984188 6.701283 3.880626 7.210939 ... 9.214496 3.448254 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_4 6.214099 6.883351 3.933607 7.496809 ... 9.008530 3.448254 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FAP FABP4 F3 ESM1 ERBB3 ENPP2 \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_1 7.886990 9.296877 2.952843 5.214755 8.543655 9.096096 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_2 8.110591 9.168168 2.820616 5.497652 8.683792 9.296877 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_3 8.190382 9.296877 3.232241 5.306376 8.862940 9.535287 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_4 8.383246 9.296877 3.127159 5.306376 9.096096 9.613881 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> WFDC2 source 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_1 8.909767 1 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_2 8.862940 1 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_3 8.909767 1 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Patient2_4 8.683792 1 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [4 rows x 167 columns])
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="3-model-training">
 3. Model training
 &lt;a class="anchor" href="#3-model-training">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>concat([normal_df,severe_df],axis &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>X &lt;span style="color:#f92672">=&lt;/span> df&lt;span style="color:#f92672">.&lt;/span>drop(columns&lt;span style="color:#f92672">=&lt;/span>[&lt;span style="color:#e6db74">&amp;#39;source&amp;#39;&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y &lt;span style="color:#f92672">=&lt;/span> df[&lt;span style="color:#e6db74">&amp;#39;source&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.20)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#Assume X_train as X, y as well&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>X_train &lt;span style="color:#f92672">=&lt;/span> X
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y_train &lt;span style="color:#f92672">=&lt;/span> y
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rf_model &lt;span style="color:#f92672">=&lt;/span> RandomForestClassifier()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rf_model&lt;span style="color:#f92672">.&lt;/span>fit(X_train, y_train)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>X_train
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>	CXCL9	LIF	CXCL11	IL25	IL12B	IL10	IL13	IL11	IL15	PTX3	...	FURIN	FSTL3	FLT3LG	FAP	FABP4	F3	ESM1	ERBB3	ENPP2	WFDC2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Healthy1	6.560136	4.251866	4.151513	7.586942	5.541050	1.843384	6.470743	6.949630	3.716450	5.163174	...	6.883351	9.613881	4.906822	10.903602	7.923477	3.383774	6.034197	9.096096	10.839433	8.383246
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Healthy2	5.277100	4.089332	3.650800	7.886990	6.377469	2.113211	6.450212	7.541794	4.181554	6.741940	...	7.002611	9.458981	4.658021	11.238270	8.730215	3.317157	5.497652	8.543655	10.454511	8.260845
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_1	7.426598	4.211594	4.429560	7.799068	6.318247	1.769972	5.725485	6.782954	3.716450	8.190382	...	7.660761	8.802718	3.042321	7.886990	9.296877	2.952843	5.214755	8.543655	9.096096	8.909767
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_2	7.541794	4.355353	4.514350	7.886990	6.741940	1.769972	5.843465	6.646599	3.716450	7.496809	...	7.210939	9.008530	3.317157	8.110591	9.168168	2.820616	5.497652	8.683792	9.296877	8.862940
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_3	7.541794	4.151513	3.933607	7.799068	6.159825	1.916796	5.984188	6.701283	3.880626	7.210939	...	6.646599	9.214496	3.448254	8.190382	9.296877	3.232241	5.306376	8.862940	9.535287	8.909767
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_4	7.130935	4.429560	3.585707	7.886990	5.612199	1.916796	6.214099	6.883351	3.933607	7.496809	...	6.532043	9.008530	3.448254	8.383246	9.296877	3.127159	5.306376	9.096096	9.613881	8.683792
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>6 rows Ã— 166 columns
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Let&amp;#39;s assume test set as well&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y_test &lt;span style="color:#f92672">=&lt;/span> y
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>X_test &lt;span style="color:#f92672">=&lt;/span> X
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y_pred &lt;span style="color:#f92672">=&lt;/span> rf_model&lt;span style="color:#f92672">.&lt;/span>predict(X_test)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>accuracy &lt;span style="color:#f92672">=&lt;/span> accuracy_score(y_test, y_pred)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(accuracy)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>1.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="4-confusion-matrix">
 4. Confusion matrix
 &lt;a class="anchor" href="#4-confusion-matrix">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.metrics &lt;span style="color:#f92672">import&lt;/span> confusion_matrix
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> seaborn &lt;span style="color:#66d9ef">as&lt;/span> sns
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>conf_matrix &lt;span style="color:#f92672">=&lt;/span> confusion_matrix(y_test, y_pred)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>figure(figsize&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#ae81ff">8&lt;/span>, &lt;span style="color:#ae81ff">6&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sns&lt;span style="color:#f92672">.&lt;/span>heatmap(conf_matrix, annot&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>, fmt&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;d&amp;#34;&lt;/span>, cmap&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Blues&amp;#34;&lt;/span>, 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xticklabels&lt;span style="color:#f92672">=&lt;/span>[&lt;span style="color:#e6db74">&amp;#39;Healthy&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;Severe&amp;#39;&lt;/span>], yticklabels&lt;span style="color:#f92672">=&lt;/span>[&lt;span style="color:#e6db74">&amp;#39;Healthy&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;Severe&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ,annot_kws&lt;span style="color:#f92672">=&lt;/span>{&lt;span style="color:#e6db74">&amp;#34;fontsize&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">14&lt;/span>},)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>xlabel(&lt;span style="color:#e6db74">&amp;#39;Predicted&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>ylabel(&lt;span style="color:#e6db74">&amp;#39;Actual&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>title(&lt;span style="color:#e6db74">&amp;#39;Confusion Matrix&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>tick_params(axis&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;both&amp;#39;&lt;/span>, which&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;major&amp;#39;&lt;/span>, labelsize&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">12&lt;/span>) &lt;span style="color:#75715e"># Adjust tick label size&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i &lt;span style="color:#f92672">in&lt;/span> range(len(rf_model&lt;span style="color:#f92672">.&lt;/span>classes_)):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> j &lt;span style="color:#f92672">in&lt;/span> range(len(rf_model&lt;span style="color:#f92672">.&lt;/span>classes_)):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> i &lt;span style="color:#f92672">==&lt;/span> j: &lt;span style="color:#75715e"># Condition to check diagonal cells (true positives)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>text(j &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">0.5&lt;/span>, i &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">0.5&lt;/span>, conf_matrix[i, j],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ha&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, va&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, color&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;white&amp;#39;&lt;/span>, fontsize&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>text(j &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">0.5&lt;/span>, i &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">0.5&lt;/span>, conf_matrix[i, j],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ha&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, va&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, color&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;black&amp;#39;&lt;/span>, fontsize&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;img width="1816" height="808" alt="image" src="https://github.com/user-attachments/assets/6a1206bc-14d4-4917-b63a-af3db972f7f6" />
&lt;h3 id="5-save-model">
 5. Save model
 &lt;a class="anchor" href="#5-save-model">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> joblib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>joblib&lt;span style="color:#f92672">.&lt;/span>dump(rf_model, &lt;span style="color:#e6db74">&amp;#39;/model/rf_model.pkl&amp;#39;&lt;/span>) 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>RF-SHAP ì—°êµ¬ #2 SHAP ë¶„ì„</title><link>https://yshghid.github.io/docs/study/ai/ai13/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/ai/ai13/</guid><description>&lt;h1 id="rf-shap-ì—°êµ¬-2-shap-ë¶„ì„">
 RF-SHAP ì—°êµ¬ #2 SHAP ë¶„ì„
 &lt;a class="anchor" href="#rf-shap-%ec%97%b0%ea%b5%ac-2-shap-%eb%b6%84%ec%84%9d">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;h3 id="1-load-data">
 1. Load data
 &lt;a class="anchor" href="#1-load-data">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pandas &lt;span style="color:#66d9ef">as&lt;/span> pd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> numpy &lt;span style="color:#66d9ef">as&lt;/span> np
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pickle
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> joblib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> shap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> seaborn &lt;span style="color:#66d9ef">as&lt;/span> sns
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#Load rf model&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">with&lt;/span> open(&lt;span style="color:#e6db74">&amp;#39;/model/rf_model.pkl&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;rb&amp;#39;&lt;/span>) &lt;span style="color:#66d9ef">as&lt;/span> f:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> rf_model &lt;span style="color:#f92672">=&lt;/span> joblib&lt;span style="color:#f92672">.&lt;/span>load(f)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#Load dataset&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">with&lt;/span> open(&lt;span style="color:#e6db74">&amp;#39;/preprocessing/processed_data.pickle&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;rb&amp;#39;&lt;/span>) &lt;span style="color:#66d9ef">as&lt;/span> f:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> preproc_data &lt;span style="color:#f92672">=&lt;/span> pickle&lt;span style="color:#f92672">.&lt;/span>load(f)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cytokine_df &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;cytokine_data&amp;#39;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>patient_meta &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;metadata&amp;#39;&lt;/span>] 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>patient_info &lt;span style="color:#f92672">=&lt;/span> preproc_data[&lt;span style="color:#e6db74">&amp;#39;clinical&amp;#39;&lt;/span>] 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2-model-evaluation---feature-importance">
 2. Model evaluation - feature importance
 &lt;a class="anchor" href="#2-model-evaluation---feature-importance">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Get feature importances&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>importances &lt;span style="color:#f92672">=&lt;/span> rf_model&lt;span style="color:#f92672">.&lt;/span>feature_importances_
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>feature_names &lt;span style="color:#f92672">=&lt;/span> cytokine_df&lt;span style="color:#f92672">.&lt;/span>columns
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>feature_importances &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>DataFrame({&lt;span style="color:#e6db74">&amp;#39;feature&amp;#39;&lt;/span>: feature_names, &lt;span style="color:#e6db74">&amp;#39;importance&amp;#39;&lt;/span>: importances})
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Sort the feature importances in descending order and select the top 20&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>top_20_features &lt;span style="color:#f92672">=&lt;/span> feature_importances&lt;span style="color:#f92672">.&lt;/span>sort_values(by&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;importance&amp;#39;&lt;/span>, ascending&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>head(&lt;span style="color:#ae81ff">20&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Plot the top 20 feature importances&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>figure(figsize&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#ae81ff">6&lt;/span>, &lt;span style="color:#ae81ff">10&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sns&lt;span style="color:#f92672">.&lt;/span>barplot(x&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;importance&amp;#39;&lt;/span>, y&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;feature&amp;#39;&lt;/span>, data&lt;span style="color:#f92672">=&lt;/span>top_20_features)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;img width="1802" height="1198" alt="image" src="https://github.com/user-attachments/assets/f8c04c4d-eaf1-4dad-9b6f-783ddf073f1b" />
&lt;h3 id="3-model-evaluation---shap">
 3. Model evaluation - SHAP
 &lt;a class="anchor" href="#3-model-evaluation---shap">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>tree_explainer &lt;span style="color:#f92672">=&lt;/span> shap&lt;span style="color:#f92672">.&lt;/span>TreeExplainer(rf_model) &lt;span style="color:#75715e">## TreeExplainer&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shap_values &lt;span style="color:#f92672">=&lt;/span> tree_explainer&lt;span style="color:#f92672">.&lt;/span>shap_values(cytokine_df) &lt;span style="color:#75715e">## SHAP Value&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fig &lt;span style="color:#f92672">=&lt;/span> plt&lt;span style="color:#f92672">.&lt;/span>figure(figsize&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#ae81ff">8&lt;/span>,&lt;span style="color:#ae81ff">8&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fig&lt;span style="color:#f92672">.&lt;/span>set_facecolor(&lt;span style="color:#e6db74">&amp;#39;white&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax &lt;span style="color:#f92672">=&lt;/span> fig&lt;span style="color:#f92672">.&lt;/span>add_subplot()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#Plot SHAP as sever probability&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shap&lt;span style="color:#f92672">.&lt;/span>summary_plot(shap_values[&lt;span style="color:#ae81ff">1&lt;/span>], cytokine_df, 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cmap&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;bwr&amp;#39;&lt;/span>, 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> show&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>, 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plot_type&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;dot&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_xlabel(&lt;span style="color:#e6db74">&amp;#39;SHAP Value&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_title(&lt;span style="color:#e6db74">&amp;#39;SHAP Dot Plot&amp;#39;&lt;/span>, fontsize&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">20&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;img width="1808" height="1388" alt="image" src="https://github.com/user-attachments/assets/bf1fcf5f-3469-429b-bb7b-cc7491d64682" />
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>shap_df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>DataFrame(shap_values[&lt;span style="color:#ae81ff">1&lt;/span>],columns &lt;span style="color:#f92672">=&lt;/span> cytokine_df&lt;span style="color:#f92672">.&lt;/span>columns)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shap_df&lt;span style="color:#f92672">.&lt;/span>index &lt;span style="color:#f92672">=&lt;/span> cytokine_df&lt;span style="color:#f92672">.&lt;/span>index
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shap_df
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>	CXCL9	LIF	CXCL11	IL25	IL12B	IL10	IL13	IL11	IL15	PTX3	...	FURIN	FSTL3	FLT3LG	FAP	FABP4	F3	ESM1	ERBB3	ENPP2	WFDC2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Healthy1	0.0	0.001667	0.0	0.0	-0.008333	0.0	0.0	-0.003333	0.0	0.0	...	0.0	-0.011667	-0.005	-0.013333	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Healthy2	0.0	-0.008333	0.0	0.0	0.001667	0.0	0.0	-0.013333	0.0	0.0	...	0.0	-0.011667	-0.005	-0.013333	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient1_1	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	-0.013333	0.0	0.0	...	0.0	-0.011667	-0.005	-0.013333	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient1_2	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	-0.013333	0.0	0.0	...	0.0	-0.011667	0.005	-0.013333	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient1_5	0.0	-0.008333	0.0	0.0	0.001667	0.0	0.0	-0.003333	0.0	0.0	...	0.0	-0.011667	-0.005	-0.013333	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient1_6	0.0	-0.008333	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	-0.011667	-0.005	0.006667	0.0	0.003333	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_1	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	0.008333	0.005	0.006667	0.0	0.003333	0.0	0.0	0.0	0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_2	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	0.008333	0.005	0.006667	0.0	0.003333	0.0	0.0	0.0	0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_3	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	0.008333	0.005	0.006667	0.0	-0.006667	0.0	0.0	0.0	0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_4	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	0.008333	0.005	0.006667	0.0	0.003333	0.0	0.0	0.0	0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Patient2_5	0.0	0.001667	0.0	0.0	0.001667	0.0	0.0	0.006667	0.0	0.0	...	0.0	0.008333	-0.005	0.006667	0.0	-0.006667	0.0	0.0	0.0	-0.005
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>11 rows Ã— 166 columns
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="4-umap">
 4. UMAP
 &lt;a class="anchor" href="#4-umap">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> umap.umap_ &lt;span style="color:#66d9ef">as&lt;/span> umap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pandas &lt;span style="color:#66d9ef">as&lt;/span> pd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> seaborn &lt;span style="color:#66d9ef">as&lt;/span> sns
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>reducer &lt;span style="color:#f92672">=&lt;/span> umap&lt;span style="color:#f92672">.&lt;/span>UMAP()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>embedding &lt;span style="color:#f92672">=&lt;/span> reducer&lt;span style="color:#f92672">.&lt;/span>fit_transform(shap_df)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Extract UMAP coordinates and labels&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>umap_x &lt;span style="color:#f92672">=&lt;/span> embedding[:, &lt;span style="color:#ae81ff">0&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>umap_y &lt;span style="color:#f92672">=&lt;/span> embedding[:, &lt;span style="color:#ae81ff">1&lt;/span>]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="5-dbscan">
 5. DBSCAN
 &lt;a class="anchor" href="#5-dbscan">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.cluster &lt;span style="color:#f92672">import&lt;/span> DBSCAN
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Initialize DBSCAN&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dbscan &lt;span style="color:#f92672">=&lt;/span> DBSCAN(eps&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0.8&lt;/span>, min_samples&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span>) &lt;span style="color:#75715e"># partial data is too small to set min_sample=20.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Fit to UMAP data and get cluster labels&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>clusters &lt;span style="color:#f92672">=&lt;/span> dbscan&lt;span style="color:#f92672">.&lt;/span>fit_predict(embedding)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>embedding, clusters
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>(array([[16.714314 , -2.0475426],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [17.279623 , -2.4140635],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [16.705837 , -3.002305 ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [17.19955 , -1.342096 ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [17.838465 , -2.021136 ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [18.537838 , -1.5079662],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [21.44188 , -2.1259143],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [21.123413 , -3.075382 ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [20.373632 , -3.0233152],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [21.83852 , -2.899527 ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [20.435349 , -2.2629123]], dtype=float32),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> array([ 0, 0, -1, -1, 0, -1, -1, 1, 1, 1, 1]))
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="6-save-result">
 6. Save result
 &lt;a class="anchor" href="#6-save-result">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>analyzed_data &lt;span style="color:#f92672">=&lt;/span> {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>analyzed_data[&lt;span style="color:#e6db74">&amp;#39;shap_value&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> shap_df
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>analyzed_data[&lt;span style="color:#e6db74">&amp;#39;umap&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> embedding
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>analyzed_data[&lt;span style="color:#e6db74">&amp;#39;cluster&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> clusters
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">with&lt;/span> open(&lt;span style="color:#e6db74">&amp;#39;/analysis/analyzed_data.pickle&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;wb&amp;#39;&lt;/span>) &lt;span style="color:#66d9ef">as&lt;/span> f:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pickle&lt;span style="color:#f92672">.&lt;/span>dump(analyzed_data,f)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="7-hierarchical-dendrogram">
 7. Hierarchical dendrogram
 &lt;a class="anchor" href="#7-hierarchical-dendrogram">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> matplotlib.patches &lt;span style="color:#f92672">import&lt;/span> Patch
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>patient_meta&lt;span style="color:#f92672">.&lt;/span>index &lt;span style="color:#f92672">=&lt;/span> patient_meta&lt;span style="color:#f92672">.&lt;/span>Sample
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>label_colors_1 &lt;span style="color:#f92672">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;sDP&amp;#39;&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;red&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;mDP&amp;#39;&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;orange&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;sRP&amp;#39;&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;purple&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;mRP&amp;#39;&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;green&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>label_colors_2 &lt;span style="color:#f92672">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">4.0&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;orange&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">5.0&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;orange&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">7.0&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;red&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">8.0&lt;/span>:&lt;span style="color:#e6db74">&amp;#39;red&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>label_colors_3 &lt;span style="color:#f92672">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;DP&amp;#39;&lt;/span> :&lt;span style="color:#e6db74">&amp;#39;red&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;RP&amp;#39;&lt;/span> : &lt;span style="color:#e6db74">&amp;#39;blue&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>col_colors_1 &lt;span style="color:#f92672">=&lt;/span> patient_meta&lt;span style="color:#f92672">.&lt;/span>Detailed_PPG&lt;span style="color:#f92672">.&lt;/span>map(label_colors_1)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>col_colors_2 &lt;span style="color:#f92672">=&lt;/span> patient_meta&lt;span style="color:#f92672">.&lt;/span>Severity&lt;span style="color:#f92672">.&lt;/span>map(label_colors_2)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>col_colors_3 &lt;span style="color:#f92672">=&lt;/span> patient_meta&lt;span style="color:#f92672">.&lt;/span>PPG&lt;span style="color:#f92672">.&lt;/span>map(label_colors_3)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>col_colors &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>DataFrame({&lt;span style="color:#e6db74">&amp;#39;PPGs&amp;#39;&lt;/span>: col_colors_1,&lt;span style="color:#e6db74">&amp;#39;severity&amp;#39;&lt;/span>:col_colors_2,})
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_elements_1 &lt;span style="color:#f92672">=&lt;/span> [Patch(facecolor&lt;span style="color:#f92672">=&lt;/span>color, label&lt;span style="color:#f92672">=&lt;/span>label) &lt;span style="color:#66d9ef">for&lt;/span> label, color &lt;span style="color:#f92672">in&lt;/span> label_colors_1&lt;span style="color:#f92672">.&lt;/span>items()]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_elements_2 &lt;span style="color:#f92672">=&lt;/span> [Patch(facecolor&lt;span style="color:#f92672">=&lt;/span>color, label&lt;span style="color:#f92672">=&lt;/span>label) &lt;span style="color:#66d9ef">for&lt;/span> label, color &lt;span style="color:#f92672">in&lt;/span> label_colors_2&lt;span style="color:#f92672">.&lt;/span>items()]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.preprocessing &lt;span style="color:#f92672">import&lt;/span> StandardScaler
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>df &lt;span style="color:#f92672">=&lt;/span> shap_df[&lt;span style="color:#f92672">~&lt;/span>shap_df&lt;span style="color:#f92672">.&lt;/span>index&lt;span style="color:#f92672">.&lt;/span>str&lt;span style="color:#f92672">.&lt;/span>contains(&lt;span style="color:#e6db74">&amp;#39;Healthy&amp;#39;&lt;/span>)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>df_filtered &lt;span style="color:#f92672">=&lt;/span> df&lt;span style="color:#f92672">.&lt;/span>loc[:, (df &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>any(axis&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scaler &lt;span style="color:#f92672">=&lt;/span> StandardScaler()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">try&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df_scaled &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>fit_transform(df_filtered)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df_scaled &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>DataFrame(df_scaled, index&lt;span style="color:#f92672">=&lt;/span>df_filtered&lt;span style="color:#f92672">.&lt;/span>index, columns&lt;span style="color:#f92672">=&lt;/span>df_filtered&lt;span style="color:#f92672">.&lt;/span>columns)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">except&lt;/span> &lt;span style="color:#a6e22e">FloatingPointError&lt;/span> &lt;span style="color:#66d9ef">as&lt;/span> e:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Error during scaling: &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>e&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>g&lt;span style="color:#f92672">=&lt;/span> sns&lt;span style="color:#f92672">.&lt;/span>clustermap(df_scaled&lt;span style="color:#f92672">.&lt;/span>T, cmap&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;coolwarm&amp;#39;&lt;/span>, figsize&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#ae81ff">20&lt;/span>, &lt;span style="color:#ae81ff">27&lt;/span>), col_colors&lt;span style="color:#f92672">=&lt;/span>col_colors)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_1 &lt;span style="color:#f92672">=&lt;/span> g&lt;span style="color:#f92672">.&lt;/span>fig&lt;span style="color:#f92672">.&lt;/span>add_axes([&lt;span style="color:#ae81ff">1.05&lt;/span>, &lt;span style="color:#ae81ff">0.60&lt;/span>, &lt;span style="color:#ae81ff">0.3&lt;/span>, &lt;span style="color:#ae81ff">0.2&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_2 &lt;span style="color:#f92672">=&lt;/span> g&lt;span style="color:#f92672">.&lt;/span>fig&lt;span style="color:#f92672">.&lt;/span>add_axes([&lt;span style="color:#ae81ff">1.05&lt;/span>, &lt;span style="color:#ae81ff">0.48&lt;/span>, &lt;span style="color:#ae81ff">0.3&lt;/span>, &lt;span style="color:#ae81ff">0.2&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_1&lt;span style="color:#f92672">.&lt;/span>legend(handles&lt;span style="color:#f92672">=&lt;/span>legend_elements_1, title&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;PPGs&amp;#34;&lt;/span>, loc&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, fontsize &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">15&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_1&lt;span style="color:#f92672">.&lt;/span>axis(&lt;span style="color:#e6db74">&amp;#39;off&amp;#39;&lt;/span>) &lt;span style="color:#75715e"># Turn off the axis&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_2&lt;span style="color:#f92672">.&lt;/span>legend(handles&lt;span style="color:#f92672">=&lt;/span>legend_elements_2, title&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Sample Severity&amp;#34;&lt;/span>, loc&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;center&amp;#34;&lt;/span>, fontsize &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">15&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>legend_ax_2&lt;span style="color:#f92672">.&lt;/span>axis(&lt;span style="color:#e6db74">&amp;#39;off&amp;#39;&lt;/span>) &lt;span style="color:#75715e"># Turn off the axis&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;img width="2292" height="1466" alt="image" src="https://github.com/user-attachments/assets/865246b0-f54b-4195-9b2d-ae6fe0231203" />
&lt;h1 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h1></description></item><item><title>ê²°ë‹¨</title><link>https://yshghid.github.io/docs/hobby/book/book52/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/hobby/book/book52/</guid><description>&lt;h1 id="ê²°ë‹¨">
 ê²°ë‹¨
 &lt;a class="anchor" href="#%ea%b2%b0%eb%8b%a8">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-04&lt;/p>
&lt;hr>
&lt;p>#1&lt;/p>
&lt;p>ë¨¸ìŠ¤í¬ëŠ” ë¡œì¼“ì´ ì‚°ì†Œê°€ í¬ë°•í•œ ë†’ì´ë¡œ ì¶©ë¶„íˆ ì†Ÿì•„ì˜¬ë¼ ë¶ˆê½ƒì´ êº¼ì§€ê¸¸ ë°”ëë‹¤. ê·¸ëŸ¬ë‚˜ ë¡œì¼“ì€ ì¶”ë½í•˜ê¸° ì‹œì‘í–ˆë‹¤. ë¹„ë””ì˜¤ í”¼ë“œì—ì„œ ì˜¤ë©œë ‰ì´ ê°€ê¹Œì´ ë‹¤ê°€ì˜¤ë”ë‹ˆ ë” ì´ìƒ í™”ë©´ì— ì•„ë¬´ê²ƒë„ ë¹„ì¹˜ì§€ ì•Šì•˜ë‹¤. ê·¸ë¦¬ê³  ë¶ˆíƒ€ëŠ” íŒŒí¸ë“¤ì´ ë°”ë‹¤ë¡œ ë–¨ì–´ì¡Œë‹¤. â€œìœ„ì¥ì´ ë’¤í‹€ë ¸ì§€ìš”.â€ ë¨¸ìŠ¤í¬ì˜ ë§ì´ë‹¤. 1ì‹œê°„ í›„, ë¨¸ìŠ¤í¬ëŠ” ë®¬ëŸ¬, ì¾¨ë‹ˆìŠ¤ë§Œ, ë¶€ì, í†°ìŠ¨ ë“± ìˆ˜ì„ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ì”í•´ë¥¼ ë‘˜ëŸ¬ë³´ê¸° ìœ„í•´ ìœ¡êµ° í—¬ë¦¬ì½¥í„°ì— ì˜¬ëë‹¤.&lt;/p>
&lt;p>ê·¸ë‚  ë°¤ ëª¨ë‘ê°€ ì½°ì¦ˆì˜ ì•¼ì™¸ ë°”ì— ëª¨ì—¬ ì¡°ìš©íˆ ë§¥ì£¼ë¥¼ ë§ˆì…¨ë‹¤. ëª‡ëª‡ ì—”ì§€ë‹ˆì–´ëŠ” ëˆˆë¬¼ì„ í˜ë ¸ë‹¤. ë¨¸ìŠ¤í¬ëŠ” ëŒì²˜ëŸ¼ êµ³ì€ ì–¼êµ´ê³¼ ë¨¼ ê³³ì„ ì‘ì‹œí•˜ëŠ” ëˆˆë¹›ìœ¼ë¡œ ì¡°ìš©íˆ ìƒê°ì— ì ê²¼ë‹¤. ê·¸ëŸ¬ê³ ëŠ” ì•„ì£¼ ë¶€ë“œëŸ½ê²Œ ì…ì„ ì—´ì—ˆë‹¤. â€œì²˜ìŒ ì‹œì‘í•  ë•Œ ìš°ë¦¬ ëª¨ë‘ëŠ” ì²« ë²ˆì§¸ ì„ë¬´ì—ì„œ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì—ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë‹¤ë¥¸ ë¡œì¼“ì„ ë§Œë“¤ì–´ ë‹¤ì‹œ ì‹œë„í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p></description></item><item><title>EBV DHT ì—°êµ¬: contribution ì •ë¦¬</title><link>https://yshghid.github.io/docs/study/bioinformatics/bi32/</link><pubDate>Sun, 03 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/bioinformatics/bi32/</guid><description>&lt;h1 id="ebv-dht-ì—°êµ¬-contribution-ì •ë¦¬">
 EBV DHT ì—°êµ¬: contribution ì •ë¦¬
 &lt;a class="anchor" href="#ebv-dht-%ec%97%b0%ea%b5%ac-contribution-%ec%a0%95%eb%a6%ac">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-03&lt;/p>
&lt;hr>
&lt;h3 id="1-papers">
 1. Papers
 &lt;a class="anchor" href="#1-papers">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>Paper1&lt;/mark>&lt;/p>
&lt;p>&lt;a href="https://www.mdpi.com/2072-6694/16/18/3219">Dihydrotestosterone Enhances MICA-Mediated Immune Responses to Epsteinâ€“Barr Virus-Associated Gastric Carcinoma&lt;/a>&lt;/p>
&lt;p>&lt;mark>Paper2&lt;/mark>&lt;/p>
&lt;p>&lt;a href="https://link.springer.com/article/10.1007/s10120-025-01626-6">Dihydrotestosterone-androgen receptor signaling suppresses EBV-positive gastric cancer through DNA demethylation-mediated viral reactivation&lt;/a>&lt;/p>
&lt;p>&lt;mark>Contribution&lt;/mark>&lt;/p>
&lt;pre tabindex="0">&lt;code>#Paper1
 â””â”€â”€ 3. ChIP-Seq Assay

#Paper2
 â””â”€â”€ 2. RNA-seq analysis
 â””â”€â”€ 14. Bioinformatics analysis of methylome
&lt;/code>&lt;/pre>&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="2-contributions">
 2. Contributions
 &lt;a class="anchor" href="#2-contributions">#&lt;/a>
&lt;/h3>
&lt;p>&lt;mark>1. ChIP-Seq Assay&lt;/mark>&lt;/p>
&lt;p>Among the above p65 ChIP samples, the sample treated with 100 nM DHT for 30 min showed the strong p65 enrichment on the SNU719 genome. Therefore, this 30 min-treated p65 ChIP sample was analyzed by a next-generation sequencing (NGS) assay to identify the genome-wide locus where the p65 protein is enriched. As a control, IgG ChIP samples were also analyzed by NGS assay to identify non-selective enrichment. The validated ChIP samples were further isolated by agarose gel purification, ligated to primers, and subjected to Illumina-based sequencing using the manufacturerâ€™s protocol (Illumina, San Diego, CA, USA) for ChIP-seq analysis. ChIP-seq reads were mapped to the EBV wild-type reference genome (NC 007605) using Bowtie software (version 2.3.4.1). The MAC2 tool was used for peak calling [12].&lt;/p></description></item><item><title>Docker #1 Python ì‹¤í–‰ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°</title><link>https://yshghid.github.io/docs/study/sw/sw14/</link><pubDate>Fri, 01 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/sw/sw14/</guid><description>&lt;h1 id="docker-1-python-ì‹¤í–‰-ì»¨í…Œì´ë„ˆ-ë§Œë“¤ê¸°">
 Docker #1 Python ì‹¤í–‰ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°
 &lt;a class="anchor" href="#docker-1-python-%ec%8b%a4%ed%96%89-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%eb%a7%8c%eb%93%a4%ea%b8%b0">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-01&lt;/p>
&lt;hr>
&lt;h3 id="background">
 Background
 &lt;a class="anchor" href="#background">#&lt;/a>
&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://yshghid.github.io/docs/study/sw/sw3/">RDE #1 Local PCì—ì„œ RDE í™˜ê²½ êµ¬ì„±&lt;/a>ì—ì„œ Harbor registryë¡œë¶€í„° RdE Container downloadë¥¼ ìˆ˜í–‰í–ˆìŒ&lt;/li>
&lt;li>ì•„ì´ì½˜ì„ í´ë¦­í•´ì„œ RDE ëŸ°ì²˜ë¥¼ ì‹¤í–‰í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;h3 id="1-ì›¹-ì„œë¹„ìŠ¤-ì‹¤í–‰-ì»¨í…Œì´ë„ˆ-ë§Œë“¤ê¸°">
 1. ì›¹ ì„œë¹„ìŠ¤ ì‹¤í–‰ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°
 &lt;a class="anchor" href="#1-%ec%9b%b9-%ec%84%9c%eb%b9%84%ec%8a%a4-%ec%8b%a4%ed%96%89-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%eb%a7%8c%eb%93%a4%ea%b8%b0">#&lt;/a>
&lt;/h3>
&lt;ol>
&lt;li>/config/workspace/cloud/container/00.container-linux ê²½ë¡œë¡œ ì´ë™&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>cd /config/workspace/cloud/container/00.container-linux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ”?&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>00.container-linux/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ Dockerfile // ì»¨í…Œì´ë„ˆ í™˜ê²½ ì„¤ì •
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ Dockerfile.pytho-slim
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ Dockerfile.ubuntu
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ docker-build.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ docker-push.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ mycode.py 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ fastserver.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ webserver.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â””â”€â”€ mydata/ 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>Dockerfile ë‚´ìš© í™•ì¸í•˜ê¸°&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>FROM python:3.11-alpine
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RUN apk add --no-cache bash curl gcc musl-dev linux-headers jq
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># FastAPI ë° ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RUN pip install fastapi uvicorn psutil python-multipart VOLUME &lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#e6db74">&amp;#34;/mycode&amp;#34;&lt;/span>&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#COPY mycode.py /mycode/mycode.py&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>COPY webserver.py /mycode/webserver.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CMD &lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#e6db74">&amp;#34;sh&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;-c&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;echo &amp;#39;start server&amp;#39; &amp;amp;&amp;amp; sleep infinity&amp;#34;&lt;/span>&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë‚´ìš©ì€?&lt;/p></description></item><item><title>Docker #2 ì‘ë…„ ì‘ì—… ë³µê¸°: netmhcpan image ë¶ˆëŸ¬ì™€ì„œ íŒ¨í‚¤ì§€ ëŒë¦¬ê¸°</title><link>https://yshghid.github.io/docs/study/sw/sw15/</link><pubDate>Fri, 01 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/sw/sw15/</guid><description>&lt;h1 id="docker-2-ì‘ë…„-ì‘ì—…-ë³µê¸°-netmhcpan-image-ë¶ˆëŸ¬ì™€ì„œ-íŒ¨í‚¤ì§€-ëŒë¦¬ê¸°">
 Docker #2 ì‘ë…„ ì‘ì—… ë³µê¸°: netmhcpan image ë¶ˆëŸ¬ì™€ì„œ íŒ¨í‚¤ì§€ ëŒë¦¬ê¸°
 &lt;a class="anchor" href="#docker-2-%ec%9e%91%eb%85%84-%ec%9e%91%ec%97%85-%eb%b3%b5%ea%b8%b0-netmhcpan-image-%eb%b6%88%eb%9f%ac%ec%99%80%ec%84%9c-%ed%8c%a8%ed%82%a4%ec%a7%80-%eb%8f%8c%eb%a6%ac%ea%b8%b0">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-01&lt;/p>
&lt;hr>
&lt;h3 id="1">
 1
 &lt;a class="anchor" href="#1">#&lt;/a>
&lt;/h3>
&lt;img width="2448" height="1814" alt="image" src="https://github.com/user-attachments/assets/35f962af-822b-4693-8ac2-e320cd263314" />
&lt;p>2024.11.24 MutClust ì‘ì—…ì¤‘ì— netmhcpanì„ ëŒë ¤ì•¼ë˜ëŠ” ìƒí™©ì´ ì™“ì—ˆëŠ”ë°&lt;/p>
&lt;p>netmhcpanì´ ìœ ë£Œì˜€ë‚˜ ê·¸ë˜ì„œ íŒ¨í‚¤ì§€ ë‹¤ìš´ì€ ì•ˆë˜ê³  ë‹´ë‹¹ ë°•ì‚¬ë‹˜ì€ ê·¸ë§Œë‘ì…§ê³ .. ì„œë²„ ë’¤ì§€ë‹¤ê°€ ìœ„ README íŒŒì¼ ë°œê²¬í•´ì„œ ê²°ê³¼ë¬¼ ì €ì¥ê¹Œì§„ í–ˆë˜ ê¸°ì–µì´ìˆë‹¤.&lt;/p>
&lt;h3 id="">
 
 &lt;a class="anchor" href="#">#&lt;/a>
&lt;/h3>
&lt;p>ì´ë•Œë¨¼ê°€ ì˜ë¬¸ì´ ë“¤ì—ˆë˜ê²Œ ìƒˆë¡œìš´ conda í™˜ê²½ì— ì ‘ì†í•œê±°ê°™ì€ ëŠë‚Œì´ ì•„ë‹ˆë¼ ì™„ì „ ë‹¤ë¥¸ ì œ2ì˜ì„œë²„ì— ì ‘ì†í•œ ëŠë‚Œì´ì—ˆëŠ”ë° ì´ìƒí•˜ê²Œ ì—°êµ¬ì‹¤ ë””ë ‰í† ë¦¬ë“¤ì€ ê·¸ëŒ€ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì„œ í˜¼ë€ìŠ¤ëŸ½ì§€ë§Œ ê·¸ëƒ¥ ì ˆëŒ€ê²½ë¡œ ë‹¤ ë°•ê³  ìˆ˜í–‰í–ˆëŠ”ë° ê²°ê³¼ë“¤ì´ ë¬¸ì œì—†ì´ ì €ì¥ëì—ˆë‹¤.&lt;/p></description></item><item><title>MutClust ì½”ë“œ ë¦¬í™í† ë§ #2 arg_parser</title><link>https://yshghid.github.io/docs/study/algorithm/algo2/</link><pubDate>Fri, 01 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo2/</guid><description>&lt;h1 id="mutclust-ì½”ë“œ-ë¦¬í™í† ë§-2-arg_parser">
 MutClust ì½”ë“œ ë¦¬í™í† ë§ #2 arg_parser
 &lt;a class="anchor" href="#mutclust-%ec%bd%94%eb%93%9c-%eb%a6%ac%ed%8e%99%ed%86%a0%eb%a7%81-2-arg_parser">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-01&lt;/p>
&lt;hr>
&lt;p>MutClust ì•Œê³ ë¦¬ì¦˜ì˜ ì½”ë“œ êµ¬ì„±ì€ ì•„ë˜ì™€ ê°™ì€ë°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>MutClust
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ sc/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ lib.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ arg_parser.py // ì‹¤í–‰ ì„¤ì •
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ utils.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â””â”€â”€ Test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>arg_parser.pyëŠ” ì‹¤í—˜ í™˜ê²½ íŒŒë¼ë¯¸í„° ì„¸íŒ… ë° CLI ì¸ì íŒŒì‹±ì„ í¬í•¨í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === arg_parser.py ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> argparse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> os.path &lt;span style="color:#f92672">import&lt;/span> exists
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> src.mlib &lt;span style="color:#f92672">import&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DIMINISHING_FACTOR, EPSILON, EPSILON_SCALING_FACTOR,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MAX_EPS, MIN_CLUSTER_LENGTH, CCM_MIN_PERCENTAGE_SUM
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">ArgsInfo&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">__init__&lt;/span>(self):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>args &lt;span style="color:#f92672">=&lt;/span> {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>fin &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>ref &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>outdir &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>eps &lt;span style="color:#f92672">=&lt;/span> EPSILON
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>maxeps &lt;span style="color:#f92672">=&lt;/span> MAX_EPS
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>min_persum &lt;span style="color:#f92672">=&lt;/span> CCM_MIN_PERCENTAGE_SUM
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>eps_scaler_const &lt;span style="color:#f92672">=&lt;/span> EPSILON_SCALING_FACTOR
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>es_control_const &lt;span style="color:#f92672">=&lt;/span> DIMINISHING_FACTOR
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> self&lt;span style="color:#f92672">.&lt;/span>min_cluster_length &lt;span style="color:#f92672">=&lt;/span> MIN_CLUSTER_LENGTH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">set_env&lt;/span>(input_path&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">None&lt;/span>, reference&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">None&lt;/span>, output_path&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">None&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info &lt;span style="color:#f92672">=&lt;/span> ArgsInfo()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser &lt;span style="color:#f92672">=&lt;/span> argparse&lt;span style="color:#f92672">.&lt;/span>ArgumentParser(prog&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;cluster.py&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;-f&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;--input_file&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>str, default&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;/data3/projects/2020_MUTCLUST/Data/Rawdata/COVID19/nucleotide_data/mutclust_input_data.txt&amp;#39;&lt;/span>, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;mutation frequency data file&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;-r&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;--ref&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>str, default&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;/data3/projects/2020_MUTCLUST/Data/Rawdata/COVID19/nucleotide_data/new_reference.fasta&amp;#39;&lt;/span>, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;the reference genome&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;-e&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;--eps&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>int, default&lt;span style="color:#f92672">=&lt;/span>EPSILON, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;width of window (epsilon)&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;--maxeps&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>int, default&lt;span style="color:#f92672">=&lt;/span>MAX_EPS, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;maximum eps&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;--minps&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>float, default&lt;span style="color:#f92672">=&lt;/span>CCM_MIN_PERCENTAGE_SUM, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;minimum per_sum&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;--es&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>float, default&lt;span style="color:#f92672">=&lt;/span>EPSILON_SCALING_FACTOR, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;eps scaling factor&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;--exd&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>float, default&lt;span style="color:#f92672">=&lt;/span>DIMINISHING_FACTOR, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;cluster expansion es diminishing factor&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parser&lt;span style="color:#f92672">.&lt;/span>add_argument(&lt;span style="color:#e6db74">&amp;#39;--minl&amp;#39;&lt;/span>, type&lt;span style="color:#f92672">=&lt;/span>int, default&lt;span style="color:#f92672">=&lt;/span>MIN_CLUSTER_LENGTH, help&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;minimum cluster length&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> args &lt;span style="color:#f92672">=&lt;/span> parser&lt;span style="color:#f92672">.&lt;/span>parse_args()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>fin &lt;span style="color:#f92672">=&lt;/span> input_path &lt;span style="color:#66d9ef">if&lt;/span> input_path &lt;span style="color:#66d9ef">else&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>input_file
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>ref &lt;span style="color:#f92672">=&lt;/span> reference &lt;span style="color:#66d9ef">if&lt;/span> reference &lt;span style="color:#66d9ef">else&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>ref
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>outdir &lt;span style="color:#f92672">=&lt;/span> output_path &lt;span style="color:#66d9ef">if&lt;/span> output_path &lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#e6db74">&amp;#39;./output&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> exists(info&lt;span style="color:#f92672">.&lt;/span>fin):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Input file does not exist: &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>info&lt;span style="color:#f92672">.&lt;/span>fin&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> exit()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>eps &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>eps
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>maxeps &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>maxeps
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>min_persum &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>minps
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>eps_scaler_const &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>es
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>es_control_const &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>exd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> info&lt;span style="color:#f92672">.&lt;/span>min_cluster_length &lt;span style="color:#f92672">=&lt;/span> args&lt;span style="color:#f92672">.&lt;/span>minl
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> info
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>MutClust ì½”ë“œ ë¦¬í™í† ë§ #3 utils</title><link>https://yshghid.github.io/docs/study/algorithm/algo9/</link><pubDate>Fri, 01 Aug 2025 00:00:00 +0000</pubDate><guid>https://yshghid.github.io/docs/study/algorithm/algo9/</guid><description>&lt;h1 id="mutclust-ì½”ë“œ-ë¦¬í™í† ë§-3-utils">
 MutClust ì½”ë“œ ë¦¬í™í† ë§ #3 utils
 &lt;a class="anchor" href="#mutclust-%ec%bd%94%eb%93%9c-%eb%a6%ac%ed%8e%99%ed%86%a0%eb%a7%81-3-utils">#&lt;/a>
&lt;/h1>
&lt;p>#2025-08-01&lt;/p>
&lt;hr>
&lt;p>MutClust ì•Œê³ ë¦¬ì¦˜ì˜ ì½”ë“œ êµ¬ì„±ì€ ì•„ë˜ì™€ ê°™ì€ë°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>MutClust
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”œâ”€â”€ sc/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ lib.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ arg_parser.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â”‚ â””â”€â”€ utils.py // ì „ì²˜ë¦¬ ë° ë¶„ì„
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>â””â”€â”€ Test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>utils.pyëŠ” ë°ì´í„° ì „ì²˜ë¦¬ ë° ë¶„ì„ í•¨ìˆ˜ë¥¼ í¬í•¨í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === Fasta ì „ì²˜ë¦¬ ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">fasta2csv&lt;/span>(home_dir, nation_dir, filechunk, ref, outdir):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> file &lt;span style="color:#f92672">in&lt;/span> filechunk:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(home_dir, nation_dir, file)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> filename &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>splitext(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>basename(file))[&lt;span style="color:#ae81ff">0&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> outpath &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(outdir, &lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>filename&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">.csv&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>exists(outpath):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> DataFrame({&lt;span style="color:#e6db74">&amp;#39;ref&amp;#39;&lt;/span>: ref&lt;span style="color:#f92672">.&lt;/span>values, &lt;span style="color:#e6db74">&amp;#39;pos&amp;#39;&lt;/span>: ref&lt;span style="color:#f92672">.&lt;/span>index})
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> seq &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>&lt;span style="color:#f92672">.&lt;/span>join(open(path)&lt;span style="color:#f92672">.&lt;/span>readlines()[&lt;span style="color:#ae81ff">1&lt;/span>:])&lt;span style="color:#f92672">.&lt;/span>strip()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df[&lt;span style="color:#e6db74">&amp;#39;mut&amp;#39;&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> [a &lt;span style="color:#66d9ef">if&lt;/span> a &lt;span style="color:#f92672">!=&lt;/span> ref[i] &lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> i, a &lt;span style="color:#f92672">in&lt;/span> enumerate(seq)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df&lt;span style="color:#f92672">.&lt;/span>to_csv(outpath, index&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">gisaid_fasta2csv&lt;/span>(homedir&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>GISAID_DIR&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">/Sequence/Preprocessed/&amp;#34;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> inputdir &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(homedir, &lt;span style="color:#e6db74">&amp;#39;MSA_fasta&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> outdir &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(homedir, &lt;span style="color:#e6db74">&amp;#39;MSA_mutationinfo&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Path(outdir)&lt;span style="color:#f92672">.&lt;/span>mkdir(exist_ok&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>, parents&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> core_n &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">100&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> args_list &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> nation_dir &lt;span style="color:#f92672">in&lt;/span> get_dirnames_list(inputdir):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> filelist &lt;span style="color:#f92672">=&lt;/span> get_filenames_list(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(inputdir, nation_dir))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> chunk &lt;span style="color:#f92672">in&lt;/span> array_split(filelist, core_n):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> args_list&lt;span style="color:#f92672">.&lt;/span>append((inputdir, nation_dir, chunk, ref_seq, outdir))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">with&lt;/span> Pool(core_n) &lt;span style="color:#66d9ef">as&lt;/span> pool:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pool&lt;span style="color:#f92672">.&lt;/span>map(fasta2csv, args_list)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === Nucleotide ì „ì²˜ë¦¬ ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">get_nucleotide_sequence_dict&lt;/span>(seq_dir):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> seq_dict &lt;span style="color:#f92672">=&lt;/span> dict()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> seq_list &lt;span style="color:#f92672">=&lt;/span> get_filenames_list(seq_dir)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> file &lt;span style="color:#f92672">in&lt;/span> seq_list:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> filepath &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(seq_dir, file)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> read_csv(filepath, index_col&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df&lt;span style="color:#f92672">.&lt;/span>name &lt;span style="color:#f92672">=&lt;/span> file&lt;span style="color:#f92672">.&lt;/span>split(&lt;span style="color:#e6db74">&amp;#39;.&amp;#39;&lt;/span>)[&lt;span style="color:#ae81ff">0&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> df&lt;span style="color:#f92672">.&lt;/span>reset_index(drop&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> seq_dict[df&lt;span style="color:#f92672">.&lt;/span>name] &lt;span style="color:#f92672">=&lt;/span> df
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> seq_dict
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">getNucleotideRefSeqbyGene&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> read_csv(&lt;span style="color:#e6db74">&amp;#39;/data3/projects/2020_MUTCLUST/Data/Annotation/Nucleotide/covid_annotation.tsv&amp;#39;&lt;/span>, sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39; &amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">make_nucleotide_mutclust_input&lt;/span>(outdir, name, seq_dict&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">None&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>exists(outdir):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(outdir &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39; is not exist&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> output_path &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(outdir, name &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;_mutclust_input.tsv&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df_ATGC_path &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(outdir, name &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;_freq_ATGC.csv&amp;#39;&lt;/span>) 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pos_list, freq_list, per_list, entropy_list &lt;span style="color:#f92672">=&lt;/span> [], [], [], []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>exists(freq_df_ATGC_path):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> seq_dict &lt;span style="color:#f92672">is&lt;/span> &lt;span style="color:#66d9ef">None&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;load seq_dict&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df &lt;span style="color:#f92672">=&lt;/span> DataFrame&lt;span style="color:#f92672">.&lt;/span>from_dict(seq_dict)&lt;span style="color:#f92672">.&lt;/span>transpose()&lt;span style="color:#f92672">.&lt;/span>fillna(&lt;span style="color:#ae81ff">0&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>astype(int)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df &lt;span style="color:#f92672">=&lt;/span> freq_df&lt;span style="color:#f92672">.&lt;/span>sort_index()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df &lt;span style="color:#f92672">=&lt;/span> freq_df[list(IUPAC_CODES&lt;span style="color:#f92672">.&lt;/span>keys())][[&lt;span style="color:#e6db74">&amp;#39;A&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;T&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;G&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;C&amp;#39;&lt;/span>]]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df&lt;span style="color:#f92672">.&lt;/span>to_csv(freq_df_ATGC_path)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_df &lt;span style="color:#f92672">=&lt;/span> read_csv(freq_df_ATGC_path, index_col&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> pos &lt;span style="color:#f92672">in&lt;/span> freq_df&lt;span style="color:#f92672">.&lt;/span>index:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq &lt;span style="color:#f92672">=&lt;/span> freq_df&lt;span style="color:#f92672">.&lt;/span>loc[pos]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt_n &lt;span style="color:#f92672">=&lt;/span> freq&lt;span style="color:#f92672">.&lt;/span>sum()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> percentage &lt;span style="color:#f92672">=&lt;/span> freq &lt;span style="color:#f92672">/&lt;/span> cnt_n
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> entrpy &lt;span style="color:#f92672">=&lt;/span> entropy(percentage, base&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> percentage&lt;span style="color:#f92672">.&lt;/span>drop(ref_seq[pos], inplace&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq&lt;span style="color:#f92672">.&lt;/span>drop(ref_seq[pos], inplace&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pos_list&lt;span style="color:#f92672">.&lt;/span>append(int(pos))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> freq_list&lt;span style="color:#f92672">.&lt;/span>append(freq&lt;span style="color:#f92672">.&lt;/span>sum())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> per_list&lt;span style="color:#f92672">.&lt;/span>append(percentage&lt;span style="color:#f92672">.&lt;/span>sum())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> entropy_list&lt;span style="color:#f92672">.&lt;/span>append(entrpy)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mutclust_input_df &lt;span style="color:#f92672">=&lt;/span> DataFrame({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;Position&amp;#39;&lt;/span>: pos_list,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;Frequency&amp;#39;&lt;/span>: freq_list,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;Percentages&amp;#39;&lt;/span>: per_list,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;Entropy&amp;#39;&lt;/span>: entropy_list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> })
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mutclust_input_df&lt;span style="color:#f92672">.&lt;/span>to_csv(output_path, sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>, index&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> mutclust_input_df
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === Mutation ë°ì´í„° ë³‘ë ¬ ì²˜ë¦¬ ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">read_thead&lt;/span>(filepathlist, return_list, i):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref_seq_sr &lt;span style="color:#f92672">=&lt;/span> getNucleotideRefSeq()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sub_dict &lt;span style="color:#f92672">=&lt;/span> {pos: Counter({k: &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> k &lt;span style="color:#f92672">in&lt;/span> IUPAC_CODES&lt;span style="color:#f92672">.&lt;/span>keys()}) &lt;span style="color:#66d9ef">for&lt;/span> pos &lt;span style="color:#f92672">in&lt;/span> ref_seq_sr&lt;span style="color:#f92672">.&lt;/span>index}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> filepath &lt;span style="color:#f92672">in&lt;/span> filepathlist:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> read_csv(filepath, index_col&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>fillna(&lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>reset_index(drop&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> index, mut &lt;span style="color:#f92672">in&lt;/span> enumerate(df[&lt;span style="color:#e6db74">&amp;#39;mut&amp;#39;&lt;/span>]):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> symbol &lt;span style="color:#f92672">=&lt;/span> mut &lt;span style="color:#66d9ef">if&lt;/span> mut &lt;span style="color:#66d9ef">else&lt;/span> ref_seq_sr[index &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> symbol &lt;span style="color:#f92672">in&lt;/span> sub_dict[index &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sub_dict[index &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>][symbol] &lt;span style="color:#f92672">+=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sub_dict[index &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>][symbol] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> return_list&lt;span style="color:#f92672">.&lt;/span>append(sub_dict)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>i&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">th process complete!&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">merge_thread&lt;/span>(poslist, sub_dict_list, return_dict):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> pos &lt;span style="color:#f92672">in&lt;/span> poslist:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> count_dict &lt;span style="color:#f92672">=&lt;/span> sum([d[pos] &lt;span style="color:#66d9ef">for&lt;/span> d &lt;span style="color:#f92672">in&lt;/span> sub_dict_list], Counter())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> merged_dict &lt;span style="color:#f92672">=&lt;/span> {k: count_dict&lt;span style="color:#f92672">.&lt;/span>get(k, &lt;span style="color:#ae81ff">0&lt;/span>) &lt;span style="color:#66d9ef">for&lt;/span> k &lt;span style="color:#f92672">in&lt;/span> IUPAC_CODES&lt;span style="color:#f92672">.&lt;/span>keys()}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> return_dict[pos] &lt;span style="color:#f92672">=&lt;/span> merged_dict
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">load_mutationinfo&lt;/span>(input_dir&lt;span style="color:#f92672">=&lt;/span>COVID19_MUTATIONINFO_DIR, sample_list&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">None&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> core_n, split_n &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">1000&lt;/span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sub_dict_list &lt;span style="color:#f92672">=&lt;/span> Manager()&lt;span style="color:#f92672">.&lt;/span>list()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> filelist &lt;span style="color:#f92672">=&lt;/span> get_file_paths_recursive(input_dir)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> sample_list:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> filelist &lt;span style="color:#f92672">=&lt;/span> [f &lt;span style="color:#66d9ef">for&lt;/span> f &lt;span style="color:#f92672">in&lt;/span> filelist &lt;span style="color:#66d9ef">if&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>basename(f)&lt;span style="color:#f92672">.&lt;/span>split(&lt;span style="color:#e6db74">&amp;#39;.&amp;#39;&lt;/span>)[&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">in&lt;/span> sample_list]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#39;sample_n: &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>len(sample_list)&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> splited_filepaths &lt;span style="color:#f92672">=&lt;/span> array_split(filelist, split_n)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameter_list &lt;span style="color:#f92672">=&lt;/span> [(chunk, sub_dict_list, i) &lt;span style="color:#66d9ef">for&lt;/span> i, chunk &lt;span style="color:#f92672">in&lt;/span> enumerate(splited_filepaths)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;read thread start!&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> multi_processing(read_thead, parameter_list, core_n&lt;span style="color:#f92672">=&lt;/span>core_n)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;read thread end!&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> merged_dict &lt;span style="color:#f92672">=&lt;/span> Manager()&lt;span style="color:#f92672">.&lt;/span>dict()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> poslist &lt;span style="color:#f92672">=&lt;/span> ref_seq&lt;span style="color:#f92672">.&lt;/span>index
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> splited_poslist &lt;span style="color:#f92672">=&lt;/span> array_split(poslist, split_n)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sub_dict_list &lt;span style="color:#f92672">=&lt;/span> list(sub_dict_list)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameter_list &lt;span style="color:#f92672">=&lt;/span> [(pos_chunk, sub_dict_list, merged_dict) &lt;span style="color:#66d9ef">for&lt;/span> pos_chunk &lt;span style="color:#f92672">in&lt;/span> splited_poslist]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;merge thread start!&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> multi_processing(merge_thread, parameter_list, core_n&lt;span style="color:#f92672">=&lt;/span>core_n)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;merge thread end!&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> dict(merged_dict)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === Matrix ìƒì„± ë³‘ë ¬ ì²˜ë¦¬ ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">make_matrix_thread&lt;/span>(file_list):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> clusters_df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>read_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(GISAID_MUTCLUST_OUTPUT_DIR, &lt;span style="color:#e6db74">&amp;#39;clusters_hscore.txt&amp;#39;&lt;/span>), sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> column_list &lt;span style="color:#f92672">=&lt;/span> [&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;c&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>i&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">(&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>row[&lt;span style="color:#e6db74">&amp;#39;left_position&amp;#39;&lt;/span>]&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">,&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>row[&lt;span style="color:#e6db74">&amp;#39;right_position&amp;#39;&lt;/span>]&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">)&amp;#34;&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> i, row &lt;span style="color:#f92672">in&lt;/span> clusters_df&lt;span style="color:#f92672">.&lt;/span>iterrows()]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cluster_df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>DataFrame(columns&lt;span style="color:#f92672">=&lt;/span>column_list)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> path &lt;span style="color:#f92672">in&lt;/span> file_list:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>read_csv(path)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> patient_name &lt;span style="color:#f92672">=&lt;/span> os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>splitext(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>basename(path))[&lt;span style="color:#ae81ff">0&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cluster_df&lt;span style="color:#f92672">.&lt;/span>loc[patient_name] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> pos &lt;span style="color:#f92672">in&lt;/span> df[df[&lt;span style="color:#e6db74">&amp;#39;mut&amp;#39;&lt;/span>]&lt;span style="color:#f92672">.&lt;/span>notnull()][&lt;span style="color:#e6db74">&amp;#39;pos&amp;#39;&lt;/span>]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cluster_idx &lt;span style="color:#f92672">=&lt;/span> clusters_df[(clusters_df[&lt;span style="color:#e6db74">&amp;#39;left_position&amp;#39;&lt;/span>] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> pos) &lt;span style="color:#f92672">&amp;amp;&lt;/span> (pos &lt;span style="color:#f92672">&amp;lt;=&lt;/span> clusters_df[&lt;span style="color:#e6db74">&amp;#39;right_position&amp;#39;&lt;/span>])]&lt;span style="color:#f92672">.&lt;/span>index
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cluster_df&lt;span style="color:#f92672">.&lt;/span>loc[patient_name][cluster_idx] &lt;span style="color:#f92672">+=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> cluster_df
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">make_matrix&lt;/span>(mutationinfo_dir, out_dir, tag, cpu_n&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">60&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">&amp;#39;starting make matrix!&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pool &lt;span style="color:#f92672">=&lt;/span> Pool(processes&lt;span style="color:#f92672">=&lt;/span>cpu_n)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> file_list &lt;span style="color:#f92672">=&lt;/span> get_file_paths_recursive(mutationinfo_dir)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> results &lt;span style="color:#f92672">=&lt;/span> pool&lt;span style="color:#f92672">.&lt;/span>map(make_matrix_thread, array_split(file_list, cpu_n))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pd&lt;span style="color:#f92672">.&lt;/span>concat(results)&lt;span style="color:#f92672">.&lt;/span>to_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(out_dir, &lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#39;cluster_matrix_&lt;/span>&lt;span style="color:#e6db74">{&lt;/span>tag&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">.csv&amp;#39;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pool&lt;span style="color:#f92672">.&lt;/span>close()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pool&lt;span style="color:#f92672">.&lt;/span>join()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === H-score ê³„ì‚° ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">add_HSCORE&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>read_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(MUTCLUST_INPUT_DIR, &lt;span style="color:#e6db74">&amp;#39;gisaid_mutclust_input.tsv&amp;#39;&lt;/span>), sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df[HSCORE] &lt;span style="color:#f92672">=&lt;/span> df[PER] &lt;span style="color:#f92672">*&lt;/span> df[ENT]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df&lt;span style="color:#f92672">.&lt;/span>to_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(MUTCLUST_INPUT_DIR, &lt;span style="color:#e6db74">&amp;#39;gisaid_mutclust_input_with_score.tsv&amp;#39;&lt;/span>), sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>, index&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">False&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === ì£¼ì„(Annotation) ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">annotation&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">import&lt;/span> ast
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mapping_df &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>read_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(GISAID_METADATA_DIR, &lt;span style="color:#e6db74">&amp;#39;merged_info.tsv&amp;#39;&lt;/span>), sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>, index_col&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> i, row &lt;span style="color:#f92672">in&lt;/span> mapping_df&lt;span style="color:#f92672">.&lt;/span>iterrows():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> mapping_df&lt;span style="color:#f92672">.&lt;/span>loc[i] &lt;span style="color:#f92672">=&lt;/span> [ast&lt;span style="color:#f92672">.&lt;/span>literal_eval(val) &lt;span style="color:#66d9ef">for&lt;/span> val &lt;span style="color:#f92672">in&lt;/span> row]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(mapping_df)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">make_clade_divide_mutation&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> clade_dir &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;./clade_divide_mutation&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> start_dict &lt;span style="color:#f92672">=&lt;/span> getStartDict()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> file &lt;span style="color:#f92672">in&lt;/span> get_filenames_list(clade_dir):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> df &lt;span style="color:#f92672">=&lt;/span> read_csv(os&lt;span style="color:#f92672">.&lt;/span>path&lt;span style="color:#f92672">.&lt;/span>join(clade_dir, file), sep&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>&lt;span style="color:#ae81ff">\t&lt;/span>&lt;span style="color:#e6db74">&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(df)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === ë³‘ë ¬ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹° ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">multi_processing&lt;/span>(func, parameter_list, core_n&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> proc, proc_excution, proc_end &lt;span style="color:#f92672">=&lt;/span> [], [], []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> param &lt;span style="color:#f92672">in&lt;/span> parameter_list:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> proc&lt;span style="color:#f92672">.&lt;/span>append(Process(target&lt;span style="color:#f92672">=&lt;/span>func, args&lt;span style="color:#f92672">=&lt;/span>param))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> proc &lt;span style="color:#f92672">or&lt;/span> proc_excution:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> _ &lt;span style="color:#f92672">in&lt;/span> range(len(proc)):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> len(proc_excution) &lt;span style="color:#f92672">&amp;lt;&lt;/span> core_n:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> p &lt;span style="color:#f92672">=&lt;/span> proc&lt;span style="color:#f92672">.&lt;/span>pop(&lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> p&lt;span style="color:#f92672">.&lt;/span>start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> proc_excution&lt;span style="color:#f92672">.&lt;/span>append(p)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">break&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> p &lt;span style="color:#f92672">in&lt;/span> proc_excution[:]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> p&lt;span style="color:#f92672">.&lt;/span>is_alive():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> proc_excution&lt;span style="color:#f92672">.&lt;/span>remove(p)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> p&lt;span style="color:#f92672">.&lt;/span>join()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> p&lt;span style="color:#f92672">.&lt;/span>close()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> proc_end&lt;span style="color:#f92672">.&lt;/span>append(p)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># === ë©”ì¸ ì‹¤í–‰ ===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> __name__ &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;__main__&amp;#39;&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> annotation()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>