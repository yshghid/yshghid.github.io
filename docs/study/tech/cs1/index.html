<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  사이트 생성, 깃허브 배포
  #

#2024-12-31


  Hugo 설치
  #

$ brew install hugo

$ hugo version
hugo v0.131.0+extended darwin/arm64 BuildDate=2024-08-02T09:03:48Z VendorInfo=brew
Hugo v0.112.0 이상인지 확인하면 된다.

  Hugo 사이트 생성
  #

작업하고 싶은 위치에 Hugo 디렉토리를 만들어준다.
$ mkdir Hugo
$ cd Hugo
Hugo로 들어가서 hugo 사이트 틀을 생성해준다. 나는 blog라는 이름으로 생성하였다.
$ pwd
/Users/yshmbid/Hugo

$ hugo new site blog
blog 디렉토리에 빈 Git 저장소를 초기화한다.
$ cd blog
$ pwd
/Users/yshmbid/Hugo/blog

$ git init
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: 	git config --global init.defaultBranch <name>
hint:
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint:
hint: 	git branch -m <name>
/Users/yshmbid/Hugo/blog/.git/ 안의 빈 깃 저장소를 다시 초기화했습니다
위에서 Using &lsquo;master&rsquo; as the name for the initial branch. 언급이 나온다. 여기서 확인해줘야 할 부분이 있다."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://yshghid.github.io/docs/study/tech/cs1/"><meta property="og:site_name" content="Lifelog 2025"><meta property="og:title" content="사이트 생성, 깃허브 배포"><meta property="og:description" content="사이트 생성, 깃허브 배포 # #2024-12-31
Hugo 설치 # $ brew install hugo $ hugo version hugo v0.131.0+extended darwin/arm64 BuildDate=2024-08-02T09:03:48Z VendorInfo=brew Hugo v0.112.0 이상인지 확인하면 된다.
Hugo 사이트 생성 # 작업하고 싶은 위치에 Hugo 디렉토리를 만들어준다.
$ mkdir Hugo $ cd Hugo Hugo로 들어가서 hugo 사이트 틀을 생성해준다. 나는 blog라는 이름으로 생성하였다.
$ pwd /Users/yshmbid/Hugo $ hugo new site blog blog 디렉토리에 빈 Git 저장소를 초기화한다.
$ cd blog $ pwd /Users/yshmbid/Hugo/blog $ git init hint: Using 'master' as the name for the initial branch. This default branch name hint: is subject to change. To configure the initial branch name to use in all hint: of your new repositories, which will suppress this warning, call: hint: hint: git config --global init.defaultBranch <name> hint: hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and hint: 'development'. The just-created branch can be renamed via this command: hint: hint: git branch -m <name> /Users/yshmbid/Hugo/blog/.git/ 안의 빈 깃 저장소를 다시 초기화했습니다 위에서 Using ‘master’ as the name for the initial branch. 언급이 나온다. 여기서 확인해줘야 할 부분이 있다."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2024-12-31T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-31T00:00:00+00:00"><meta property="article:tag" content="2024-12"><title>사이트 생성, 깃허브 배포 | Lifelog 2025</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://yshghid.github.io/docs/study/tech/cs1/><link rel=stylesheet href=/book.min.6217d077edb4189fd0578345e84bca1a884dfdee121ff8dc9a0f55cfe0852bc9.css integrity="sha256-YhfQd+20GJ/QV4NF6EvKGohN/e4SH/jcmg9Vz+CFK8k=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.a962c27f934ef700a4d6041a1b7866dd2b3195ee6014697541348dbd87c85a18.js integrity="sha256-qWLCf5NO9wCk1gQaG3hm3Ssxle5gFGl1QTSNvYfIWhg=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo class=book-icon><span>Lifelog 2025</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><span>기록</span><ul><li><a href=/docs/hobby/book/>읽을거리</a><ul></ul></li><li><a href=/docs/hobby/daily/>일상</a><ul></ul></li><li><a href=/docs/hobby/etc/>⋯</a><ul></ul></li></ul></li><li class=book-section-flat><span>공부</span><ul><li><a href=/docs/study/tech/>연구실</a><ul></ul></li><li><a href=/docs/study/career/>취업</a><ul></ul></li><li><a href=/docs/study/etc/>⋯</a><ul></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>사이트 생성, 깃허브 배포</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#hugo-설치>Hugo 설치</a></li><li><a href=#hugo-사이트-생성>Hugo 사이트 생성</a></li><li><a href=#hugo-사이트-배포>Hugo 사이트 배포</a></li><li><a href=#마무리>마무리</a></li><li><a href=#참고한-블로그-및-문서>참고한 블로그 및 문서 </a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=사이트-생성-깃허브-배포>사이트 생성, 깃허브 배포
<a class=anchor href=#%ec%82%ac%ec%9d%b4%ed%8a%b8-%ec%83%9d%ec%84%b1-%ea%b9%83%ed%97%88%eb%b8%8c-%eb%b0%b0%ed%8f%ac>#</a></h1><p>#2024-12-31</p><hr><h3 id=hugo-설치>Hugo 설치
<a class=anchor href=#hugo-%ec%84%a4%ec%b9%98>#</a></h3><pre tabindex=0><code>$ brew install hugo

$ hugo version
hugo v0.131.0+extended darwin/arm64 BuildDate=2024-08-02T09:03:48Z VendorInfo=brew
</code></pre><p>Hugo v0.112.0 이상인지 확인하면 된다.</p><h3 id=hugo-사이트-생성>Hugo 사이트 생성
<a class=anchor href=#hugo-%ec%82%ac%ec%9d%b4%ed%8a%b8-%ec%83%9d%ec%84%b1>#</a></h3><p>작업하고 싶은 위치에 Hugo 디렉토리를 만들어준다.</p><pre tabindex=0><code>$ mkdir Hugo
$ cd Hugo
</code></pre><p>Hugo로 들어가서 hugo 사이트 틀을 생성해준다. 나는 blog라는 이름으로 생성하였다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo

$ hugo new site blog
</code></pre><p>blog 디렉토리에 빈 Git 저장소를 초기화한다.</p><pre tabindex=0><code>$ cd blog
$ pwd
/Users/yshmbid/Hugo/blog

$ git init
hint: Using &#39;master&#39; as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: 	git config --global init.defaultBranch &lt;name&gt;
hint:
hint: Names commonly chosen instead of &#39;master&#39; are &#39;main&#39;, &#39;trunk&#39; and
hint: &#39;development&#39;. The just-created branch can be renamed via this command:
hint:
hint: 	git branch -m &lt;name&gt;
/Users/yshmbid/Hugo/blog/.git/ 안의 빈 깃 저장소를 다시 초기화했습니다
</code></pre><p>위에서 Using &lsquo;master&rsquo; as the name for the initial branch. 언급이 나온다. 여기서 확인해줘야 할 부분이 있다.</p><p><img src=https://github.com/user-attachments/assets/a483f192-c2a4-4235-b23f-97126b895eaa alt=image></p><p>레포지토리 생성 페이지에서 Add a README file.을 체크하면 This will set main as the default branch.라는 안내가 뜬다. 이를 통해 default가 main임을 확인할수있다.</p><p>따라서 위의 경우에는 master가 아닌 main으로 바꿔줘야 한다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo/blog

$ git config --global init.defaultBranch main
$ git branch -m main
</code></pre><p>다음으로 선택한 테마를 Git 서브모듈로 프로젝트에 추가한다. 나는 hugo-book이라는 테마를 사용했다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo/blog

$ git submodule add https://github.com/alex-shpak/hugo-book themes/hugo-book
</code></pre><p>다음으로, 블로그의 기본 설정들을 세팅해준다. blog 디렉토리 내 파일들은 대략적으로 아래와 같이 구성되어 있다.</p><pre tabindex=0><code>$ ls
archetypes	data		i18n		resources
assets		hugo.toml	layouts		static
content		public		themes
</code></pre><p>이 중에서 content와 hugo.toml만 수정할것이다. content에는 작성한 게시물이 들어가고, hugo.toml에는 기본 세팅을 위한 config 변수들이 들어간다.</p><p><img src=https://github.com/user-attachments/assets/0243e743-af0a-4c9c-9632-59a2277fb2f5 alt=image></p><p>hugo-book 테마의 경우에는 content에 대해 이와 같이 언급하고 있다. 해당 테마는 국가별로 여러 content 디렉토리가 존재해서, 그 중 main이 되는 content.en의 내용만을 시키는대로 복사해준다.</p><pre tabindex=0><code>$ cp -R themes/hugo-book/exampleSite/content.en/* ./content
</code></pre><p>다음으로 hugo.toml에 선택한 테마를 설정해주고 열어서 확인해본다.</p><pre tabindex=0><code>$ echo &#34;theme = &#39;hugo-book&#39;&#34; &gt;&gt; hugo.toml
$ view hugo.toml
  1 baseURL = &#39;https://example.org/&#39;
  2 languageCode = &#39;en-us&#39;
  3 title = &#39;My New Hugo Site&#39;
  4 theme = &#39;hugo-book&#39;
</code></pre><p>여기서 base가 되는 내용만 수정해줬다.</p><pre tabindex=0><code>  1 baseURL = &#39;https://yshghid.github.io/&#39;
  2 languageCode = &#39;en-us&#39;
  3 title = &#39;Lifelog 2025&#39;
  4 theme = &#39;hugo-book&#39;
  # i를 누르면 편집모드로 전환된다.
  # 편집이 끝났으면 esc를 누르고 :wq!를 입력하면 완료된다.
</code></pre><p>기본적인 설정이 끝났으므로 로컬에서 실행시켜보자! http://localhost:1313에 접속하면 local 환경에서 어떻게 실행 중인지 확인할수있다.</p><pre tabindex=0><code>$ hugo server
</code></pre><p><img src=https://github.com/user-attachments/assets/db51ffd4-686b-47e4-bfdd-c1e7f03ece21 alt=image></p><p>이쁘게 잘 나온다 ㅎㅎ</p><p>변경 사항을 픽스하려면 <code>hugo</code>를 수행해서 <code>public</code> 디렉토리에 static site 코드를 생성해준다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo/blog

$ hugo
Start building sites …
hugo v0.131.0+extended darwin/arm64 BuildDate=2024-08-02T09:03:48Z VendorInfo=brew

WARN  Expand shortcode is deprecated. Use &#39;details&#39; instead.

                   | EN
-------------------+-----
  Pages            | 58
  Paginator pages  |  0
  Non-page files   |  0
  Static files     | 78
  Processed images |  0
  Aliases          | 11
  Cleaned          |  0

Total in 66 ms
</code></pre><h3 id=hugo-사이트-배포>Hugo 사이트 배포
<a class=anchor href=#hugo-%ec%82%ac%ec%9d%b4%ed%8a%b8-%eb%b0%b0%ed%8f%ac>#</a></h3><p>hugo로 만든 static site를 github page를 활용해서 배포할것이다. 이를 위해서 <code>&lt;user-id>.github.io</code> 리포지토리를 생성해준다.</p><p>이때 Add a README file 을 선택할 경우 push 할때 오류가 날 수 있으므로 체크 해제해서 생성해주는게 좋다.</p><p><img src=https://github.com/user-attachments/assets/82ece276-c744-4ea0-8d95-221934d347ba alt=image></p><p>다음으로, .github/workflows 경로에 gh-pages.yml 파일을 만들어준다. gh-pages.yml은 GitHub Actions 워크플로우를 정의하여 코드가 커밋되거나 푸시될 때 자동으로 Hugo 사이트를 빌드하고 GitHub Pages에 배포할 수 있도록 하는 파일이다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo/blog

$ mkdir -p .github/workflows
$ cd .github/workflows
$ touch gh-pages.yml
</code></pre><p>아래 내용은 <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>HUGO 공식 문서</a>에서 제공한 워크플로우인데, 나의 경우에는 오류가 났다.</p><pre tabindex=0><code># Sample workflow for building and deploying a Hugo site to GitHub Pages
name: Deploy Hugo site to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches:
      - main

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: &#34;pages&#34;
  cancel-in-progress: false

# Default to bash
defaults:
  run:
    shell: bash

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    env:
      HUGO_VERSION: 0.128.0
    steps:
      - name: Install Hugo CLI
        run: |
          wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb \
          &amp;&amp; sudo dpkg -i ${{ runner.temp }}/hugo.deb
      - name: Install Dart Sass
        run: sudo snap install dart-sass
      - name: Checkout
        uses: actions/checkout@v4
        with:
          submodules: recursive
          fetch-depth: 0
      - name: Setup Pages
        id: pages
        uses: actions/configure-pages@v5
      - name: Install Node.js dependencies
        run: &#34;[[ -f package-lock.json || -f npm-shrinkwrap.json ]] &amp;&amp; npm ci || true&#34;
      - name: Build with Hugo
        env:
          HUGO_CACHEDIR: ${{ runner.temp }}/hugo_cache
          HUGO_ENVIRONMENT: production
          TZ: America/Los_Angeles
        run: |
          hugo \
            --gc \
            --minify \
            --baseURL &#34;${{ steps.pages.outputs.base_url }}/&#34;
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./public

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
</code></pre><p>위의 워크플로우를 사용한다면 line 8의 main를 확인해주자면 default가 master라면 master로 바꿔줘야 한다.</p><p>나의 경우는 위 워크플로우로는 오류가 났어서 아래의 수정된 내용을 넣어줬다.</p><pre tabindex=0><code>name: github pages

on:
  push:
    branches:
      - main  # Set a branch to deploy
  pull_request:

jobs:
  deploy:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Create .nojekyll
        run: echo &#39;&#39; &gt; .nojekyll

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v3
        with:
          hugo-version: &#39;latest&#39;
          # extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v4
        if: github.ref == &#39;refs/heads/main&#39;
        with:
          github_token: ${{ secrets.GH_TOKEN }}
          publish_dir: ./public
</code></pre><p>이어서 GH_TOKEN를 정의해줘야 하는데</p><p><img src=https://github.com/user-attachments/assets/e623f313-7263-4c12-8e7b-487b497fad01 alt=image></p><p>리포지토리의 Settings -> Secretes and Variables -> Actions 에서 Repository secretes와 Repository variables를 생성해준다.</p><p><img src=https://github.com/user-attachments/assets/376e400a-4403-41e8-a1fe-c6ba512d1dd4 alt=image></p><p>Secret 자리에 토큰을 입력해주면 된다.</p><p>작성이 완료되었다면, 생성한 <code>&lt;user-id>.github.io</code> 리포지토리에 연결한 후 커밋, 푸시해준다.</p><pre tabindex=0><code>$ pwd
/Users/yshmbid/Hugo/blog

$ git remote add origin https://github.com/yshghid/yshghid.github.io.git
$ git add .
$ git commit -m &#34;first commit&#34;
$ git push origin main
</code></pre><h3 id=마무리>마무리
<a class=anchor href=#%eb%a7%88%eb%ac%b4%eb%a6%ac>#</a></h3><p>이로써 블로그 생성과 배포는 끝이지만!! 추가로 확인하면 좋은 부분이 있다.</p><ol><li>Actions</li></ol><p><img src=https://github.com/user-attachments/assets/4e0d8af9-13ad-46d1-8fb3-ce3179e01145 alt=image></p><p>Actions에서 초록색 체크박스가 뜨는지 확인하기. 오류가 난다면 해당 오류의 로그를 읽어보고 그에 맞게 수정해주면 된다.</p><ol start=2><li>Sources, Branch</li></ol><p><img src=https://github.com/user-attachments/assets/718443b2-67d5-4bb8-a838-17393a3cf0ab alt=image></p><p>공식 문서에서는 Deploy from a branch에서 Github Actions로 바꿔주라고 나온다. 바꿔도 상관없으나 나는 그냥 뒀다.</p><p>브랜치는 보통은 gh-pages 브랜치가 기본 Github Pages 브랜치로 설정되어 있지만 혹시 안되어 있다면 gh-pages로 바꿔주면 된다.</p><ol start=3><li>구조</li></ol><pre tabindex=0><code>/Users/yshmbid/Hugo/blog
├── hugo.toml
├── content/
├── layouts/
├── static/
└── .github/
    └── workflows/
        └── gh-pages.yml
</code></pre><p>blog 디렉토리가 이와 같은 구조를 띤다면 제대로 작성된 것이다.</p><h3 id=참고한-블로그-및-문서>참고한 블로그 및 문서 
<a class=anchor href=#%ec%b0%b8%ea%b3%a0%ed%95%9c-%eb%b8%94%eb%a1%9c%ea%b7%b8-%eb%b0%8f-%eb%ac%b8%ec%84%9c>#</a></h3><ol><li>HUGO 공식 문서 - https://gohugo.io/getting-started/quick-start/</li><li>HUGO 공식 문서2 - https://gohugo.io/hosting-and-deployment/hosting-on-github/</li><li>hugo-book github - https://github.com/alex-shpak/hugo-book.git</li><li><a href=https://c11oud.tistory.com/entry/GitHub->https://c11oud.tistory.com/entry/GitHub-</a>깃허브-블로그-만들기1</li><li><a href=https://github.com/Integerous/Integerous.github.io>https://github.com/Integerous/Integerous.github.io</a></li><li><a href=https://kzeoh.github.io/posts/make-blog/>https://kzeoh.github.io/posts/make-blog/</a></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://giscus.app/client.js data-repo=yshghid/yshghid.github.io data-repo-id=R_kgDONkMkNg data-category-id=DIC_kwDONkMkNs4CloJh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#hugo-설치>Hugo 설치</a></li><li><a href=#hugo-사이트-생성>Hugo 사이트 생성</a></li><li><a href=#hugo-사이트-배포>Hugo 사이트 배포</a></li><li><a href=#마무리>마무리</a></li><li><a href=#참고한-블로그-및-문서>참고한 블로그 및 문서 </a></li></ul></li></ul></nav></div></aside></main></body></html>