<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기
  #

#2025-08-01


  1
  #


2024.11.24 MutClust 작업중에 netmhcpan을 돌려야되는 상황이 왓었는데
netmhcpan이 유료였나 그래서 패키지 다운은 안되고 담당 박사님은 그만두셧고.. 서버 뒤지다가 위 README 파일 발견해서 결과물 저장까진 했던 기억이있다.

  
  #

이때먼가 의문이 들었던게 새로운 conda 환경에 접속한거같은 느낌이 아니라 완전 다른 제2의서버에 접속한 느낌이었는데 이상하게 연구실 디렉토리들은 그대로 접근이 가능해서 혼란스럽지만 그냥 절대경로 다 박고 수행했는데 결과들이 문제없이 저장됐었다."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://yshghid.github.io/docs/study/sw/sw15/"><meta property="og:site_name" content=" "><meta property="og:title" content="Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기"><meta property="og:description" content="Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기 # #2025-08-01
1 # 2024.11.24 MutClust 작업중에 netmhcpan을 돌려야되는 상황이 왓었는데
netmhcpan이 유료였나 그래서 패키지 다운은 안되고 담당 박사님은 그만두셧고.. 서버 뒤지다가 위 README 파일 발견해서 결과물 저장까진 했던 기억이있다.
# 이때먼가 의문이 들었던게 새로운 conda 환경에 접속한거같은 느낌이 아니라 완전 다른 제2의서버에 접속한 느낌이었는데 이상하게 연구실 디렉토리들은 그대로 접근이 가능해서 혼란스럽지만 그냥 절대경로 다 박고 수행했는데 결과들이 문제없이 저장됐었다."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-08-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-08-01T00:00:00+00:00"><meta property="article:tag" content="2025-08"><title>Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기 |</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://yshghid.github.io/docs/study/sw/sw15/><link rel=stylesheet href=/book.min.c1243161bf0533845410166eed8d51c01c88b7495cb920164aa7f624f5f1e66a.css integrity="sha256-wSQxYb8FM4RUEBZu7Y1RwByIt0lcuSAWSqf2JPXx5mo=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.4f712d89c706f900ce9e7740dacdfbff36278a0a47d38f05a815b6f7b1c33997.js integrity="sha256-T3EticcG+QDOnndA2s37/zYnigpH048FqBW297HDOZc=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo class=book-icon><span></span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><span>기록</span><ul><li><a href=/docs/hobby/book/>글</a><ul></ul></li><li><a href=/docs/hobby/daily/>일상</a><ul></ul></li></ul></li><li class=book-section-flat><span>공부</span><ul><li><a href=/docs/study/bioinformatics/>Bioinformatics</a><ul></ul></li><li><a href=/docs/study/ai/>AI</a><ul></ul></li><li><a href=/docs/study/sw/>SW</a><ul></ul></li><li><a href=/docs/study/algorithm/>알고리즘</a><ul></ul></li><li><a href=/docs/study/career/>취업</a><ul></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#1>1</a></li><li></li><li></li><li><a href=#2-도커-이미지-pull-및-수행>2. 도커 이미지 pull 및 수행</a></li><li></li><li><a href=#3-netmhcpan-실행>3. netMHCpan 실행</a></li><li></li><li><a href=#4-docker-종료>4. Docker 종료</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=docker-2-작년-작업-복기-netmhcpan-image-불러와서-패키지-돌리기>Docker #2 작년 작업 복기: netmhcpan image 불러와서 패키지 돌리기
<a class=anchor href=#docker-2-%ec%9e%91%eb%85%84-%ec%9e%91%ec%97%85-%eb%b3%b5%ea%b8%b0-netmhcpan-image-%eb%b6%88%eb%9f%ac%ec%99%80%ec%84%9c-%ed%8c%a8%ed%82%a4%ec%a7%80-%eb%8f%8c%eb%a6%ac%ea%b8%b0>#</a></h1><p>#2025-08-01</p><hr><h3 id=1>1
<a class=anchor href=#1>#</a></h3><img width=2448 height=1814 alt=image src=https://github.com/user-attachments/assets/35f962af-822b-4693-8ac2-e320cd263314><p>2024.11.24 MutClust 작업중에 netmhcpan을 돌려야되는 상황이 왓었는데</p><p>netmhcpan이 유료였나 그래서 패키지 다운은 안되고 담당 박사님은 그만두셧고.. 서버 뒤지다가 위 README 파일 발견해서 결과물 저장까진 했던 기억이있다.</p><h3><a class=anchor href=#>#</a></h3><p>이때먼가 의문이 들었던게 새로운 conda 환경에 접속한거같은 느낌이 아니라 완전 다른 제2의서버에 접속한 느낌이었는데 이상하게 연구실 디렉토리들은 그대로 접근이 가능해서 혼란스럽지만 그냥 절대경로 다 박고 수행했는데 결과들이 문제없이 저장됐었다.</p><p>그래서 그뒤로 걍잊어버리고있었는데 docker 배우고나니까 먼가 이해돼서 이해된김에 정리해보기!</p><h3><a class=anchor href=#>#</a></h3><h3 id=2-도커-이미지-pull-및-수행>2. 도커 이미지 pull 및 수행
<a class=anchor href=#2-%eb%8f%84%ec%bb%a4-%ec%9d%b4%eb%af%b8%ec%a7%80-pull-%eb%b0%8f-%ec%88%98%ed%96%89>#</a></h3><p><mark>1. 도커 이미지 다운로드</mark></p><p>#당시 chatgpt 응답</p><blockquote><p><code>docker pull * (*: 링크 블라인드 처리)</code> 명령어는 Docker Hub에서 *의 1.0 버전을 다운로드합니다. 이미지 크기가 953.76 MB이므로, 다운로드에는 네트워크 속도에 따라 몇 분 정도 소요될 수 있습니다.</p></blockquote><p><mark>2. 도커 이미지 수행</mark></p><p>#당시 chatgpt 응답</p><blockquote><p>이미지 다운로드 후, 다음과 같은 명령어로 Docker 컨테이너를 생성하고 실행할 수 있습니다. 예를 들어, 로컬 시스템의 특정 디렉토리를 컨테이너에 마운트하고 싶다면:</p><p><code>docker run -it -v /path/to/local/datac:/data *</code></p><p>이 명령은 다음과 같은 작업을 수행합니다:</p><ul><li><code>it</code>: 컨테이너를 대화식 모드로 실행하고 터미널 입력을 위한 인터페이스를 제공합니다.</li><li><code>v /path/to/local/data:/data</code>: 호스트 시스템의 <code>/path/to/local/data</code> 디렉토리를 컨테이너의 <code>/data</code> 디렉토리에 마운트합니다. 이렇게 하면 컨테이너 내부에서 호스트 시스템의 데이터에 접근할 수 있습니다.</li></ul></blockquote><p>#당시 내 코드</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker run -it -v /data/home/ysh980101/2411/data-mhc:/data *
</span></span><span style=display:flex><span>root@40080ea8207d:/home/RSEM-1.3.3#
</span></span></code></pre></div><p>몰랐는데 호스트 시스템(우리 서버)의 내 작업 디렉토리("/data/home/ysh980101/2411/data-mhc")를 컨테이너에 마운트 했었다.</p><h3><a class=anchor href=#>#</a></h3><h3 id=3-netmhcpan-실행>3. netMHCpan 실행
<a class=anchor href=#3-netmhcpan-%ec%8b%a4%ed%96%89>#</a></h3><p><mark>1. netMHCpan 설치 경로 찾기</mark></p><p>#당시 chatgpt 응답</p><blockquote><p>컨테이너가 시작되면 기본적으로 <code>/home/RSEM-1.3.3</code> 디렉토리에서 시작되는 것 같습니다. 이 디렉토리는 RSEM 관련 작업을 위한 것으로 보이며, netMHCpan 작업을 수행하려면 적절한 디렉토리로 이동해야 할 수 있습니다.</p><p>컨테이너 내에서 netMHCpan 설치 디렉토리로 이동하려면, 해당 디렉토리의 경로를 알아야 합니다. netMHCpan의 설치 위치를 확인하고, cd 명령어로 그 위치로 이동합니다.</p><p><code>cd /path/to/netMHCpan</code></p></blockquote><p>#당시 내 코드</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>root@40080ea8207d:/home/RSEM-1.3.3# find / -type d -name <span style=color:#e6db74>&#34;netMHCpan*&#34;</span> 2&gt;/dev/null
</span></span><span style=display:flex><span>/netMHCpan-4.1
</span></span></code></pre></div><p>netMHCpan의 설치 디렉토리 /netMHCpan-4.1 를 찾음.</p><p><mark>2. netMHCpan 사용</mark></p><p>#당시 chatgpt 응답</p><blockquote><p>디렉토리로 이동: 이제 확인된 설치 경로로 이동하여 작업을 시작합니다.</p><p><code>cd /netMHCpan-4.1</code></p><p>작업 실행: netMHCpan을 실행하려면, 해당 디렉토리 내에서 실행 파일을 찾아 해당 명령을 사용합니다. 예를 들어, 다음과 같은 명령어를 사용할 수 있습니다:</p><p><code>./netMHCpan -a HLA-A02:01 -l 9 -f your_peptide_file.txt -o output.txt</code></p><p>이 명령은 HLA-A02:01 앨리얼을 대상으로 하는 9-mer 펩타이드를 your_peptide_file.txt에서 읽어들여 output.txt에 결과를 출력합니다.</p></blockquote><p>#당시 내 코드</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>while</span> IFS<span style=color:#f92672>=</span> read -r PATIENT_ID
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span></code></pre></div><p>patient_id.txt에 있는 각 환자 ID에 대해 루프를 돌림</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>PEPTIDES_TABLE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$OUT_DIR<span style=color:#e6db74>/</span>$PATIENT_ID<span style=color:#e6db74>/peptides_HLA-I.csv&#34;</span>
</span></span><span style=display:flex><span>cat $PEPTIDES_TABLE | cut -d <span style=color:#e6db74>&#34;,&#34;</span> -f <span style=color:#ae81ff>1</span> | tail -n +2 &gt; $OUT_DIR/$PATIENT_ID/peptides.txt
</span></span></code></pre></div><p>환자별 .csv 파일에서 첫 번째 컬럼(펩타이드 서열)만 추출하고, 헤더를 제거해서 .txt 파일로 만들고</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>while</span> IFS<span style=color:#f92672>=</span> read -r allele
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    $netMHCpan -BA -p $OUT_DIR/$PATIENT_ID/peptides.txt -a $allele &gt; $OUT_DIR/$PATIENT_ID/raw_predictions/<span style=color:#e6db74>${</span>allele<span style=color:#e6db74>}</span>.txt
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> &lt; <span style=color:#e6db74>&#34;</span>$HLA_I_ALLELES_FILE<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>Affinity prediction하려는 hla allele를 HLA_I_ALLELES_FILE에 저장해놧엇는데 HLA_I_ALLELES_FILE에 대해 루프를 돌림. 각 allele마다 NetMHCpan 실행 결과를 allele 이름으로 된 .txt 파일로 저장.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 sc2.py $OUT_DIR/$PATIENT_ID/raw_predictions/ &gt; $OUT_DIR/$PATIENT_ID/binding_affinities_HLA-I.csv
</span></span></code></pre></div><p>해당 환자의 모든 allele에 대한 결과 파일을 하나의 .csv로 병합.</p><p>sc.py는?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>netMHCpan_outdir <span style=color:#f92672>=</span> sys<span style=color:#f92672>.</span>argv[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;Allele,Peptide,Affinity&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> fname <span style=color:#f92672>in</span> sorted(os<span style=color:#f92672>.</span>listdir(netMHCpan_outdir)):
</span></span><span style=display:flex><span>    netMHCpan_file <span style=color:#f92672>=</span> open(netMHCpan_outdir <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span> <span style=color:#f92672>+</span> fname, <span style=color:#e6db74>&#34;r&#34;</span>)
</span></span><span style=display:flex><span>    table_started <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> line <span style=color:#f92672>in</span> netMHCpan_file:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;Pos&#34;</span> <span style=color:#f92672>in</span> line:
</span></span><span style=display:flex><span>            table_started <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>            netMHCpan_file<span style=color:#f92672>.</span>readline()
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> table_started <span style=color:#f92672>and</span> line[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;-&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> table_started:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        line <span style=color:#f92672>=</span> line<span style=color:#f92672>.</span>split()
</span></span><span style=display:flex><span>        allele <span style=color:#f92672>=</span> line[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        peptide <span style=color:#f92672>=</span> line[<span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>        affinity <span style=color:#f92672>=</span> int(float(line[<span style=color:#ae81ff>15</span>]))
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>,</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>,</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(allele, peptide, affinity))
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    netMHCpan_file<span style=color:#f92672>.</span>close()
</span></span></code></pre></div><p>대충 이런식인데 최종적으로는 Allele,Peptide,Affinity 컬럼 갖는 테이블을 반환.</p><p>전체 bash script는 이랬다</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Input:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1) Cluster name (e.g., c315)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2) Number of processes</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CSV table with predicted affinities (binding_affinities_HLA-I.csv)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>CLUSTER<span style=color:#f92672>=</span>$1
</span></span><span style=display:flex><span><span style=color:#75715e>#NUM_PROC=$2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>netMHCpan<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/netMHCpan-4.1/netMHCpan&#34;</span>
</span></span><span style=display:flex><span>OUT_DIR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>CLUSTER<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>PATIENT_TXT<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;patient_id.txt&#34;</span>
</span></span><span style=display:flex><span>HLA_I_ALLELES_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;common_mhc.txt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Go to the script directory and load config file</span>
</span></span><span style=display:flex><span>cd <span style=color:#66d9ef>$(</span>dirname $0<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#source config.bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Read each PATIENT_ID from the text file</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> IFS<span style=color:#f92672>=</span> read -r PATIENT_ID
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create output directory for each patient</span>
</span></span><span style=display:flex><span>    mkdir -p $OUT_DIR/$PATIENT_ID/raw_predictions
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Select peptides from the first column and remove header</span>
</span></span><span style=display:flex><span>    PEPTIDES_TABLE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$OUT_DIR<span style=color:#e6db74>/</span>$PATIENT_ID<span style=color:#e6db74>/peptides_HLA-I.csv&#34;</span>
</span></span><span style=display:flex><span>    echo $PEPTIDES_TABLE
</span></span><span style=display:flex><span>    cat $PEPTIDES_TABLE | cut -d <span style=color:#e6db74>&#34;,&#34;</span> -f <span style=color:#ae81ff>1</span> | tail -n +2 &gt; $OUT_DIR/$PATIENT_ID/peptides.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Run netMHCpan for each allele file listed in HLA_I_ALLELES_FILE</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#cat $HLA_I_ALLELES_FILE | \</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#    #parallel -j $NUM_PROC \</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#    $netMHCpan -BA -p $OUT_DIR/$PATIENT_ID/peptides.txt -a {} &gt; $OUT_DIR/$PATIENT_ID/raw_predictions/{}.txt</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> IFS<span style=color:#f92672>=</span> read -r allele
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>        echo $allele
</span></span><span style=display:flex><span>        $netMHCpan -BA -p $OUT_DIR/$PATIENT_ID/peptides.txt -a $allele &gt; $OUT_DIR/$PATIENT_ID/raw_predictions/<span style=color:#e6db74>${</span>allele<span style=color:#e6db74>}</span>.txt
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>done</span> &lt; <span style=color:#e6db74>&#34;</span>$HLA_I_ALLELES_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Aggregate and clean up</span>
</span></span><span style=display:flex><span>    python3 sc2.py $OUT_DIR/$PATIENT_ID/raw_predictions/ &gt; $OUT_DIR/$PATIENT_ID/binding_affinities_HLA-I.csv
</span></span><span style=display:flex><span>    <span style=color:#75715e>#rm -rf $OUT_DIR/$PATIENT_ID/raw_predictions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> &lt; <span style=color:#e6db74>&#34;</span>$PATIENT_TXT<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3><a class=anchor href=#>#</a></h3><h3 id=4-docker-종료>4. Docker 종료
<a class=anchor href=#4-docker-%ec%a2%85%eb%a3%8c>#</a></h3><p>그때 노션 보니까 챗지피티가 이런말도 해줫다.</p><blockquote><p>작업이 완료되면, exit 명령어를 입력하여 컨테이너에서 나올 수 있습니다. 컨테이너를 종료하지 않고 나온 경우, 다음과 같이 컨테이너를 다시 시작하거나 종료할 수 있습니다.</p><p>컨테이너 재시작: <code>docker start [container_id_or_name]</code></p><p>컨테이너 내부로 들어가기: <code>docker attach [container_id_or_name]</code></p></blockquote><p>이때 이해를못한상태니깐 exit를 하면 그냥 완전 나가기가 된다고 생각했던거같다. 그래서 한 10번 넘게 들어가서 작업했는데 내가 컨테이너를 하나도 종료안해놔서 한 6개월뒤에 사람들이 ys910111 누구냐고 머라했던기억이 ㅋㅋ ㅠㅠ</p><p>그래도 이제 먼가 이해되니깐조은듯.</p><h1><a class=anchor href=#>#</a></h1></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://giscus.app/client.js data-repo=yshghid/yshghid.github.io data-repo-id=R_kgDONkMkNg data-category-id=DIC_kwDONkMkNs4CloJh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#1>1</a></li><li></li><li></li><li><a href=#2-도커-이미지-pull-및-수행>2. 도커 이미지 pull 및 수행</a></li><li></li><li><a href=#3-netmhcpan-실행>3. netMHCpan 실행</a></li><li></li><li><a href=#4-docker-종료>4. Docker 종료</a></li></ul></li></ul></nav></div></aside></main></body></html>