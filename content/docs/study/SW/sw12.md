---
date : 2025-07-31
tags: ['2025-07']
categories: ['SW']
bookHidden: true
title: "HTML #2 SKCT ê³µë¶€ìš© ë©”ëª¨ì¥+ê³„ì‚°ê¸° ë§Œë“¤ê¸°"
---

# HTML #2 SKCT ê³µë¶€ìš© ë©”ëª¨ì¥+ê³„ì‚°ê¸° ë§Œë“¤ê¸°

#2025-07-31

---

### 1. ë¬¸ì œ

SKCTëŠ” ì‘ì‹œí™”ë©´ì´ ì•„ë˜ì™€ê°™ì´ ë¼ì‡ëŠ”ë°

[<img width="3030" height="1302" alt="image" src="https://github.com/user-attachments/assets/a8f6e4d3-39f1-4c6c-8462-bfd8a4288602" />](https://community.linkareer.com/written_test/2629945)

ì—°ìŠµí•˜ê¸° ë¶ˆí¸í•œê±°ê°™ì• ì„œ htmlë¡œ ë§Œë“¤ì–´ë´£ë‹¤

### 2. SKCT ê³µë¶€ìš© ë©”ëª¨ì¥+ê³„ì‚°ê¸°

#íŒŒì¼êµ¬ì¡°
```plain text
/skct
â”œâ”€â”€ index.html
â””â”€â”€ script.js
```

#í™œìš©

<img width="3360" height="2100" alt="image" src="https://github.com/user-attachments/assets/c85159d5-85e8-4a7a-a24d-002ab50984e4" />

ìš”ë ‡ê²Œ ë¬¸ì œì˜†ì— ë„ì›Œë†“ê³  ì“°ë©´ë¨ ã…ã…ã…

### 3. ìˆ˜ì •ì‚¬í•­

### 3-1. ë©”ëª¨ì¥

1. ë©”ëª¨ì¥ â†” ê·¸ë¦¼íŒ ì „í™˜ ë²„íŠ¼
   - ë©”ëª¨ì¥ì¼ë•ŒëŠ” 'ğŸ¨ ê·¸ë¦¼íŒ', ê·¸ë¦¼íŒì¼ë•ŒëŠ” 'ğŸ“ ë©”ëª¨ì¥'ì´ ëœ¨ê²Œ ìˆ˜ì •

### 3-2. ê·¸ë¦¼íŒ

1. ì„  êµµê¸° ì¡°ì ˆí•˜ëŠ” ìŠ¬ë¼ì´ë” ë„£ê¸°
   - html: ìŠ¬ë¼ì´ë” UI ì¶”ê°€
   - javascript: ì´ˆê¸° ì„  êµµê¸° 1ë¡œ ì„¤ì • / ê·¸ë¦¼íŒ ìƒíƒœì¼ë•Œë§Œ ë³´ê¸°ë¡œ ì„¤ì •

```html
<!-- ì„  êµµê¸° ì¡°ì ˆ ìŠ¬ë¼ì´ë” -->
<div style="padding: 10px 20px; background: #f0f0f0; display: none;" id="strokeControls">
  <label for="strokeWidth">ì„  êµµê¸°:</label>
  <input type="range" id="strokeWidth" min="0.5" max="10" step="0.5" value="1">
  <span id="strokeValue">1</span>px
</div>
```
```javascript
// ì„  êµµê¸° ì¡°ì ˆ ìŠ¬ë¼ì´ë” ìš”ì†Œ
const strokeControls = document.getElementById('strokeControls');
const strokeWidth = document.getElementById('strokeWidth');
const strokeValue = document.getElementById('strokeValue');

// ì´ˆê¸° ì„  êµµê¸° ì„¤ì •
ctx.lineWidth = parseFloat(strokeWidth.value);
ctx.lineCap = 'round';  // ë” ë¶€ë“œëŸ½ê²Œ

// ìŠ¬ë¼ì´ë” ë³€ê²½ ì‹œ ì„  êµµê¸° ì—…ë°ì´íŠ¸
strokeWidth.addEventListener('input', () => {
  ctx.lineWidth = parseFloat(strokeWidth.value);
  strokeValue.textContent = strokeWidth.value;
});

// ê·¸ë¦¼íŒ ìƒíƒœì¼ë•Œë§Œ ë³´ê¸°
function toggleMode() {
  const isTextVisible = textArea.style.display !== 'none';
  if (isTextVisible) {
    textArea.style.display = 'none';
    canvas.style.display = 'block';
    strokeControls.style.display = 'block'; // ìŠ¬ë¼ì´ë” í‘œì‹œ
    resizeCanvas();
    modeToggleBtn.textContent = 'ğŸ“ ë©”ëª¨ì¥';
  } else {
    canvas.style.display = 'none';
    strokeControls.style.display = 'none'; // ìŠ¬ë¼ì´ë” ìˆ¨ê¹€
    textArea.style.display = 'block';
    modeToggleBtn.textContent = 'ğŸ¨ ê·¸ë¦¼íŒ';
  }
}
```


2. ì„  í”½ì…€ì´ ë­”ê°€ ê¹¨ì ¸ë³´ì„
   - javascript: ë””ë°”ì´ìŠ¤ í•´ìƒë„(DPR: devicePixelRatio) ë°˜ì˜í•˜ì—¬ ìº”ë²„ìŠ¤ í™•ì¥
   
```javascript
function resizeCanvas() {
  canvas.width = canvas.clientWidth;
  canvas.height = canvas.clientHeight;
```
ì›ë˜ ì½”ë“œ: ë””ìŠ¤í”Œë ˆì´ í•´ìƒë„ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šê³  canvas.width / canvas.height ë¥¼ ì„¤ì •

```javascript
function resizeCanvas() {
  const dpr = window.devicePixelRatio || 1;
  canvas.width = canvas.clientWidth * dpr;
  canvas.height = canvas.clientHeight * dpr;
  canvas.style.width = canvas.clientWidth + 'px';
  canvas.style.height = canvas.clientHeight + 'px';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0); // scale canvas context
}
```
ìˆ˜ì •ëœ ì½”ë“œ: dprì„ ê³ ë ¤í•´ì„œ width, heightë¥¼ ìˆ˜ì •

3. ì„ ìƒ‰ìƒ, ì§€ìš°ê°œ, ì‹¤í–‰ì·¨ì†Œ ê¸°ëŠ¥ ë„£ê¸°
   - "ğŸ§½ ì§€ìš°ê°œ" "âœï¸ íœ" ì´ë ‡ê²Œ 2ê°œ ë²„íŠ¼ ë„£ì§€ë§ê³  ë²„íŠ¼ í•˜ë‚˜ë§Œ ë‚¨ê²¨ì„œ íœ ìƒíƒœì´ë©´ "ğŸ§½ ì§€ìš°ê°œ", ì§€ìš°ê°œ ìƒíƒœë©´ "âœï¸ íœ"ìœ¼ë¡œ ë³€ê²½

ìˆ˜ì • ì „
```html
...
<!-- ë„êµ¬ íŒ¨ë„ -->
<div id="strokeControls">
  <label>ì„  êµµê¸°:
    <input type="range" id="strokeWidth" min="0.5" max="10" step="0.5" value="1">
    <span id="strokeValue">1</span>px
  </label>

  <label>ì„  ìƒ‰ìƒ:
    <input type="color" id="strokeColor" value="#000000">
  </label>

  <button onclick="setEraser(true)">ğŸ§½ ì§€ìš°ê°œ</button>
  <button onclick="setEraser(false)">âœï¸ íœ</button>
  <button onclick="undo()">â†©ï¸ ì‹¤í–‰ì·¨ì†Œ</button>
</div>
...
```

ìˆ˜ì • í›„

```html
<div id="strokeControls">
  <label>ì„  êµµê¸°:
    <input type="range" id="strokeWidth" min="0.5" max="10" step="0.5" value="1">
    <span id="strokeValue">1</span>px
  </label>

  <label>ì„  ìƒ‰ìƒ:
    <input type="color" id="strokeColor" value="#000000">
  </label>

  <button id="toggleToolBtn" onclick="toggleTool()">ğŸ§½ ì§€ìš°ê°œ</button>
  <button onclick="undo()">â†©ï¸ ì‹¤í–‰ì·¨ì†Œ</button>
</div>
```
```js
// ë²„íŠ¼ 1ê°œë§Œ ë‚¨ê¹€
function toggleTool() {
  erasing = !erasing;
  ctx.strokeStyle = erasing ? '#ffffff' : strokeColor.value;
  toggleToolBtn.textContent = erasing ? 'âœï¸ íœ' : 'ğŸ§½ ì§€ìš°ê°œ';
}

// ìƒ‰ìƒ ì„ íƒ ë³€ê²½ ì‹œ í˜„ì¬ ìƒíƒœ ë°˜ì˜
strokeColor.addEventListener('input', () => {
  if (!erasing) {
    ctx.strokeStyle = strokeColor.value;
  }
});
```

4. ì§€ìš°ê°œ/íœ ê¸°ë³¸ ë‘ê»˜ ì„¤ì • / ì§€ìš°ê°œ ìƒ‰ê¹” ìˆ˜ì •
   - ì§€ìš°ê°œ ìƒíƒœì¼ë•ŒëŠ” ê¸°ë³¸ê°’ì´ 9.5 / íœ ìƒíƒœì¼ë•ŒëŠ” ê¸°ë³¸ê°’ì´ 3.0ìœ¼ë¡œ
   - ì§€ìš°ê°œë‘ ë°°ê²½ìƒ‰ í†µì¼ì‹œí‚¤ê¸°
   - 'ğŸ§½ ì§€ìš°ê°œ' ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ì„  êµµê¸°ê°€ 9.5ë¡œ ë°”ë€Œê³ ë‚˜ì„œ ë‹¤ì‹œ "âœï¸ íœ" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìŠ¬ë¼ì´ë”ê°€ ì›ë˜ ë‘ê»˜ì¸ 3.0ë¡œ ëŒì•„ì˜¤ì§€ì•Šê³  9.5ë¡œ ë‚¨ëŠ”ë° 3.0ë¡œ ë”°ë¼ì˜¤ê²Œ ë§Œë“¤ê¸°

```js
let previousPenWidth = 3; // ê¸°ë³¸ íœ êµµê¸°
ctx.lineWidth = 3;

function toggleTool() {
  erasing = !erasing;

  if (erasing) {
    previousPenWidth = parseFloat(strokeWidth.value); // í˜„ì¬ íœ êµµê¸° ì €ì¥
    ctx.strokeStyle = '#f9f9f9';  // ë°°ê²½ìƒ‰ê³¼ ì¼ì¹˜
    ctx.lineWidth = 9.5;
    strokeWidth.value = 9.5;
    strokeValue.textContent = '9.5';
    toggleToolBtn.textContent = 'âœï¸ íœ';
  } else {
    ctx.strokeStyle = strokeColor.value;
    ctx.lineWidth = previousPenWidth; // ë³µì›
    strokeWidth.value = previousPenWidth;
    strokeValue.textContent = previousPenWidth;
    toggleToolBtn.textContent = 'ğŸ§½ ì§€ìš°ê°œ';
  }
}
```
```html
<input type="range" id="strokeWidth" min="0.5" max="10" step="0.5" value="3">
<span id="strokeValue">3</span>px
```

### 3-3. ê³„ì‚°ê¸°

1. *ëŒ€ì‹  Ã— ì“°ê³ ì‹¶ì€ë° Ã—ê°€ ë“¤ì–´ê°€ë‹ˆê¹Œ ì—°ì‚° ì˜¤ë¥˜ê°€ ë‚¨
   - ì…ë ¥ì°½ì—ëŠ” Ã—ë¥¼ ë³´ì—¬ì£¼ê³  / ë‚´ë¶€ ê³„ì‚° ì‹œì—ëŠ” Ã—ë¥¼ *ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ”ë° / display.valueì—ëŠ” Ã—ê°€ í¬í•¨ë˜ê²Œ append()ì™€ calculate()ë¥¼ ìˆ˜ì •

ì›ë˜ ì½”ë“œ / ë³€í˜•ì½”ë“œ
```html
// ì›ë˜
<button onclick="append('*')">*</button>

//ë³€í˜•
<button onclick="append('Ã—')">Ã—</button>
```

ìˆ˜ì •ëœ ë³€í˜•ì½”ë“œ

```js
function append(value) {
  // ë³´ì´ëŠ” ê¸°í˜¸ëŠ” Ã—ë¡œ, ì‹¤ì œ ê³„ì‚°ì€ *
  if (value === '*') {
    display.value += 'Ã—';
  } else {
    display.value += value;
  }
}
```

ì´ë•Œ ë²„íŠ¼ì€ ìœ ì§€: ë‚´ë¶€ ì²˜ë¦¬ìš©ì„.

```html
<button onclick="append('*')">Ã—</button>
```

### 3-4. ì¶”ê°€ ìˆ˜ì •

1. ê·¸ë¦¼íŒì—ì„œ ê¸°ë³¸ ì„  êµµê¸°ê°€ 3pxë¼ê³  í‘œì‹œë§Œ ë¼ì‡ê³  ì‹¤ì œë¡œëŠ” 1px ì²˜ëŸ¼ë³´ì„
   - canvas.getBoundingClientRect() ê¸°ë°˜ìœ¼ë¡œ í¬ê¸°ë¥¼ ì¡°ì •í•œ í›„ ctx.setTransform(...)ì„ í˜¸ì¶œí•˜ë©´ ë¸Œë¼ìš°ì €ì˜ devicePixelRatioì— ë”°ë¼ ì–‡ê²Œ ë³´ì¼ ìˆ˜ ìˆë‹¤.
   - resizeCanvas() í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ì— ctx.lineWidth ì„¤ì •ì„ ì¶”ê°€, ctx.lineWidth = 3; ë¥¼ ì´ˆê¸° ì„¤ì • ë¸”ë¡ì—ì„œ í•œ ë²ˆ ë” ê°•ì œ ì„¤ì •

```javascript
// ì„  êµµê¸° ì¬ì„¤ì •
function resizeCanvas() {
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * dpr;
  canvas.height = rect.height * dpr;
  canvas.style.width = rect.width + 'px';
  canvas.style.height = rect.height + 'px';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  redrawHistory();

  ctx.lineWidth = parseFloat(strokeWidth.value);
}

// ì´ˆê¸° ì„¤ì • ë¸”ë¡ì—ì„œ 3pxë¡œ í•œë²ˆë”ì„¤ì •
ctx.lineCap = 'round';
ctx.strokeStyle = strokeColor.value;
ctx.lineWidth = parseFloat(strokeWidth.value);  // ì´ ë¼ì¸ ì¶”ê°€
```

2. ê³„ì‚° ê²°ê³¼ í›„ ìˆ«ìë¥¼ ëˆ„ë¥´ë©´ ìë™ ì´ˆê¸°í™”
   - ê³„ì‚°ê¸°ì—ì„œ 3+5í•˜ê³  =í•˜ë©´ 8 > 9ë¥¼ ëˆ„ë¥´ë©´ 8ì˜†ì— ê·¸ëƒ¥ 9ê°€ ì í˜€ì„œ 89ê°€ ë¨
     - ë§Œì•½ì— = í•´ì„œ ì—°ì‚° ê²°ê³¼ê°€ ë‚˜ì˜¨ ìƒíƒœë©´, ë’¤ì— ìˆ«ìë¥¼ ëˆ„ë¥´ë©´ ì´ˆê¸°í™”(AC) ë²„íŠ¼ì„ ì•ˆëˆŒë €ë”ë¼ë„ ì´ˆê¸°í™”(AC) ë²„íŠ¼ì„ëˆ„ë¥´ê³  ìˆ«ìë¥¼ ëˆ„ë¥¸ê±¸ë¡œ ì¸ì‹í•˜ê²Œ ìˆ˜ì •: justCalculated í”Œë˜ê·¸ ë„ì…

```js
let justCalculated = false;

function append(value) {
  // ìˆ«ìë¥¼ ëˆ„ë¥¸ ê²½ìš°: ê²°ê³¼ê°€ ë°©ê¸ˆ ê³„ì‚°ëœ ìƒíƒœë¼ë©´ ì´ˆê¸°í™”
  const isNumber = /^[0-9.]$/.test(value);
  const isOperator = /^[+\-*/Ã—Ã·]$/.test(value);

  if (justCalculated && isNumber) {
    display.value = '';
  }

  if (value === '*') {
    display.value += 'Ã—';
  } else {
    display.value += value;
  }

  justCalculated = false;
}

function calculate() {
  try {
    const expression = display.value.replace(/Ã—/g, '*').replace(/Ã·/g, '/');
    display.value = eval(expression);
    justCalculated = true; // ê²°ê³¼ê°€ ë°©ê¸ˆ ê³„ì‚°ë¨
  } catch (e) {
    display.value = 'Error';
    justCalculated = true;
  }
}

function clearDisplay() {
  display.value = '';
  justCalculated = false;
}
```

3. ê³„ì‚°ê¸°ì—ì„œ í‚¤ë³´ë“œ ì…ë ¥(ìˆ«ì ë° ì—°ì‚°ì í‚¤)ë„ ì¸ì‹
   - ê³„ì‚°ê¸°ë¥¼ ìˆ«ìë‘ + - * / ë§Œ í´ë¦­ë¿ë§Œì´ì•„ë‹ˆë¼ í‚¤ë³´ë“œì…ë ¥ë„ ë°›ê²Œ.
   - ê·¼ë° ë©”ëª¨ì°½ì„ ëˆ„ë¥´ë©´ í‚¤ë³´ë“œ ì…ë ¥ì´ ë©”ëª¨ì°½ ë‚´ìš©ë§Œ ìˆ˜ì •í•´ì•¼í•˜ê³ 
     - ê³„ì‚°ê¸° ì…ë ¥ì°½ì„ ëˆ„ë¥´ë©´ í‚¤ë³´ë“œ ì…ë ¥ì´ ê³„ì‚°ê¸° ì…ë ¥ ë‚´ìš©ë§Œ ìˆ˜ì •í•˜ê²Œ ë¶„ë¦¬í•´ì•¼í•¨. 

   - êµ¬í˜„
     - display ì…ë ¥ì°½ì— focusë˜ì—ˆì„ ë•Œë§Œ í‚¤ë³´ë“œ ì…ë ¥ì„ ê³„ì‚°ê¸°ì— ì „ë‹¬
     - ë©”ëª¨ì¥(textarea)ì´ focusë˜ë©´ ê³„ì‚°ê¸°ë¡œ ì…ë ¥ì´ ê°€ì§€ ì•Šë„ë¡ ì œì–´
     - keydown ì´ë²¤íŠ¸ë¥¼ windowì— ì¶”ê°€í•˜ê³ , ê³„ì‚°ê¸° ì…ë ¥ì°½ì´ focusì¼ ë•Œë§Œ append() í˜¸ì¶œ

```js
// í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
window.addEventListener('keydown', (e) => {
  const isNumber = /^[0-9]$/.test(e.key);
  const isOperator = /^[+\-*/]$/.test(e.key);
  const isEnter = e.key === 'Enter';

  const isCalculatorFocused = document.activeElement === display;
  const isTextAreaFocused = document.activeElement === textArea;

  if (isCalculatorFocused && (isNumber || isOperator)) {
    e.preventDefault();
    append(e.key);
  } else if (isCalculatorFocused && isEnter) {
    e.preventDefault();
    calculate();
  }
});
```

+) readonly ìƒíƒœì—ì„œë„ focusë˜ë„ë¡ í•˜ë ¤ë©´ tabindex="0"ì„ ë„£ì–´ì¤˜ì•¼ í•œë‹¤.

```html
<input type="text" id="display" readonly tabindex="0" />
```

4. ê³„ì‚°ê¸° ì…ë ¥ì°½ì„ ëˆŒë €ì„ ë•Œ display.focus()ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•´ì„œ ëˆ„ë¥´ë©´ íŒŒë€ìƒ‰ìœ¼ë¡œ í‘œì‹œë˜ê²Œí•˜ê¸°

```js
display.addEventListener('click', () => {
  display.focus();
});
```

5. ê³„ì‚°ê¸°ì—ì„œ ë°±ìŠ¤í˜ì´ìŠ¤,  enter ëˆ„ë¥´ë©´ = ì²˜ëŸ¼ ì“°ê¸°, esc ëˆ„ë¥´ë©´ AC ëˆ„ë¥¸ê±°ë‘ ë™ì¼í•˜ê²Œ ì“°ê¸°

```js
// ê³„ì‚°ê¸° ì…ë ¥ì°½ í´ë¦­ ì‹œ focus
display.addEventListener('click', () => {
  display.focus();
});

// í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
window.addEventListener('keydown', (e) => {
  const isNumber = /^[0-9]$/.test(e.key);
  const isOperator = /^[+\-*/]$/.test(e.key);
  const isEnter = e.key === 'Enter';
  const isBackspace = e.key === 'Backspace';
  const isEscape = e.key === 'Escape';

  const isCalculatorFocused = document.activeElement === display;

  if (!isCalculatorFocused) return; // ê³„ì‚°ê¸° ì…ë ¥ì°½ì— focusëœ ê²½ìš°ë§Œ ì‘ë™

  // ìˆ«ì ë° ì—°ì‚°ì ì…ë ¥
  if (isNumber || isOperator) {
    e.preventDefault();
    append(e.key);
  }

  // Enter í‚¤: ê³„ì‚° ìˆ˜í–‰
  else if (isEnter) {
    e.preventDefault();
    calculate();
  }

  // Backspace í‚¤: ë§ˆì§€ë§‰ ë¬¸ì ì‚­ì œ
  else if (isBackspace) {
    e.preventDefault();
    if (display.value.length > 0) {
      display.value = display.value.slice(0, -1);
    }
  }

  // ESC í‚¤: ì „ì²´ ì´ˆê¸°í™”
  else if (isEscape) {
    e.preventDefault();
    clearDisplay();
  }
});
```

### 4. ì „ì²´ ì½”ë“œ

```javascript
// ê³„ì‚°ê¸° ê¸°ëŠ¥
const display = document.getElementById('display');
let justCalculated = false;

function append(value) {
  const isNumber = /^[0-9.]$/.test(value);
  const isOperator = /^[+\-*/Ã—Ã·]$/.test(value);

  if (justCalculated && isNumber) {
    display.value = '';
  }

  const lastChar = display.value.slice(-1);

  // ì—°ì‚°ì ì¤‘ë³µ ë°©ì§€: ì—°ì‚°ìê°€ ì—°ì†ìœ¼ë¡œ ì…ë ¥ë˜ë©´ ë§ˆì§€ë§‰ ì—°ì‚°ìë§Œ ë‚¨ê¹€
  if (isOperator && /[+\-*/Ã—Ã·]/.test(lastChar)) {
    display.value = display.value.slice(0, -1);
  }

  if (value === '*') {
    display.value += 'Ã—';
  } else {
    display.value += value;
  }

  justCalculated = false;
}

function calculate() {
  const lastChar = display.value.slice(-1);

  // ë§ˆì§€ë§‰ ë¬¸ìê°€ ì—°ì‚°ìì¼ ê²½ìš° ê³„ì‚°í•˜ì§€ ì•ŠìŒ
  if (/[+\-*/Ã—Ã·]/.test(lastChar)) return;

  try {
    const expression = display.value.replace(/Ã—/g, '*').replace(/Ã·/g, '/');
    display.value = eval(expression);
    justCalculated = true;
  } catch (e) {
    display.value = 'Error';
    justCalculated = true;
  }
}

function clearDisplay() {
  display.value = '';
  justCalculated = false;
}

// ê·¸ë¦¼íŒ ìš”ì†Œ
const textArea = document.getElementById('textArea');
const canvas = document.getElementById('drawingCanvas');
const modeToggleBtn = document.getElementById('modeToggleBtn');
const ctx = canvas.getContext('2d');
const strokeControls = document.getElementById('strokeControls');
const strokeWidth = document.getElementById('strokeWidth');
const strokeValue = document.getElementById('strokeValue');
const strokeColor = document.getElementById('strokeColor');
const toggleToolBtn = document.getElementById('toggleToolBtn');

let isDrawing = false;
let erasing = false;
let history = [];
let previousPenWidth = parseFloat(strokeWidth.value);

ctx.lineCap = 'round';
ctx.strokeStyle = strokeColor.value;
ctx.lineWidth = previousPenWidth;

strokeWidth.addEventListener('input', () => {
  ctx.lineWidth = parseFloat(strokeWidth.value);
  strokeValue.textContent = strokeWidth.value;
  if (!erasing) {
    previousPenWidth = parseFloat(strokeWidth.value);
  }
});

strokeColor.addEventListener('input', () => {
  if (!erasing) {
    ctx.strokeStyle = strokeColor.value;
  }
});

function toggleTool() {
  erasing = !erasing;
  if (erasing) {
    previousPenWidth = parseFloat(strokeWidth.value);
    ctx.strokeStyle = '#f9f9f9';
    ctx.lineWidth = 9.5;
    strokeWidth.value = 9.5;
    strokeValue.textContent = '9.5';
    toggleToolBtn.textContent = 'âœï¸ íœ';
  } else {
    ctx.strokeStyle = strokeColor.value;
    ctx.lineWidth = previousPenWidth;
    strokeWidth.value = previousPenWidth;
    strokeValue.textContent = previousPenWidth;
    toggleToolBtn.textContent = 'ğŸ§½ ì§€ìš°ê°œ';
  }
}

function toggleMode() {
  const isTextVisible = textArea.style.display !== 'none';
  if (isTextVisible) {
    textArea.style.display = 'none';
    canvas.style.display = 'block';
    strokeControls.style.display = 'flex';
    resizeCanvas();
    modeToggleBtn.textContent = 'ğŸ“ ë©”ëª¨ì¥';
  } else {
    canvas.style.display = 'none';
    strokeControls.style.display = 'none';
    textArea.style.display = 'block';
    modeToggleBtn.textContent = 'ğŸ¨ ê·¸ë¦¼íŒ';
  }
}

function resizeCanvas() {
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * dpr;
  canvas.height = rect.height * dpr;
  canvas.style.width = rect.width + 'px';
  canvas.style.height = rect.height + 'px';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  ctx.lineWidth = parseFloat(strokeWidth.value);
  redrawHistory();
}

canvas.addEventListener('mousedown', (e) => {
  isDrawing = true;
  ctx.beginPath();
  ctx.moveTo(e.offsetX, e.offsetY);
});

canvas.addEventListener('mousemove', (e) => {
  if (isDrawing) {
    ctx.lineTo(e.offsetX, e.offsetY);
    ctx.stroke();
  }
});

canvas.addEventListener('mouseup', () => {
  isDrawing = false;
  saveToHistory();
});

canvas.addEventListener('mouseleave', () => {
  isDrawing = false;
});

function saveToHistory() {
  try {
    const snapshot = ctx.getImageData(0, 0, canvas.width, canvas.height);
    history.push(snapshot);
    if (history.length > 20) history.shift();
  } catch (e) {
    console.warn('Undo ì €ì¥ ì‹¤íŒ¨', e);
  }
}

function undo() {
  if (history.length > 0) {
    history.pop();
    const last = history[history.length - 1];
    if (last) ctx.putImageData(last, 0, 0);
    else ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
}

function redrawHistory() {
  if (history.length > 0) {
    ctx.putImageData(history[history.length - 1], 0, 0);
  }
}

// ê³„ì‚°ê¸° ì…ë ¥ì°½ í´ë¦­ ì‹œ focus
display.addEventListener('click', () => {
  display.focus();
});

// í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
window.addEventListener('keydown', (e) => {
  const isNumber = /^[0-9]$/.test(e.key);
  const isOperator = /^[+\-*/]$/.test(e.key);
  const isEnter = e.key === 'Enter';
  const isEquals = e.key === '=';
  const isBackspace = e.key === 'Backspace';
  const isEscape = e.key === 'Escape';

  const isCalculatorFocused = document.activeElement === display;

  if (!isCalculatorFocused) return;

  if (isNumber || isOperator) {
    e.preventDefault();
    append(e.key);
  } else if (isEnter || isEquals) {
    e.preventDefault();
    calculate();
  } else if (isBackspace) {
    e.preventDefault();
    if (display.value.length > 0) {
      display.value = display.value.slice(0, -1);
    }
  } else if (isEscape) {
    e.preventDefault();
    clearDisplay();
  }
});

// ì´ˆê¸° ìƒíƒœ ì„¤ì •
window.onload = () => {
  textArea.style.display = 'block';
  canvas.style.display = 'none';
  strokeControls.style.display = 'none';
  modeToggleBtn.textContent = 'ğŸ¨ ê·¸ë¦¼íŒ';
};
```
```html
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SKCT ê³µë¶€ìš©</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    #notepad {
      flex: 1;
      padding: 20px;
      border-bottom: 2px solid #ccc;
      background: #f9f9f9;
      position: relative;
    }

    #notepad textarea,
    #drawingCanvas {
      width: 100%;
      height: 100%;
      font-size: 20px;
      resize: none;
      display: none;
      caret-color: black;
    }

    #drawingCanvas {
      border: 1px solid #ccc;
      cursor: crosshair;
    }

    .toggle-button {
      position: absolute;
      top: 23px;
      right: 18px;
      z-index: 10;
      padding: 8px 14px;
      font-size: 16px;
      background: #ffffff;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.1);
    }

    #strokeControls {
      padding: 10px 20px;
      background: #f0f0f0;
      display: none;
      display: flex;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    #calculator {
      flex: 1;
      background: #fff;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #display {
      width: 100%;
      max-width: 300px;
      height: 40px;
      font-size: 20px;
      margin-bottom: 10px;
      text-align: right;
      padding: 5px;
      caret-color: black;
    }

    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      width: 100%;
      max-width: 300px;
    }

    .buttons button {
      padding: 15px;
      font-size: 20px;
      cursor: pointer;
    }

    input[type="color"] {
      border: none;
      padding: 0;
      background: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- ë©”ëª¨ì¥/ê·¸ë¦¼íŒ -->
  <div id="notepad">
    <button class="toggle-button" id="modeToggleBtn" onclick="toggleMode()">ğŸ¨ ê·¸ë¦¼íŒ</button>
    <textarea id="textArea" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." style="caret-color: black;"></textarea>
    <canvas id="drawingCanvas"></canvas>
  </div>

  <!-- ë„êµ¬ íŒ¨ë„ -->
  <div id="strokeControls">
    <label>ì„  êµµê¸°:
      <input type="range" id="strokeWidth" min="0.5" max="13" step="0.5" value="3">
      <span id="strokeValue">3</span>px
    </label>

    <label>ì„  ìƒ‰ìƒ:
      <input type="color" id="strokeColor" value="#000000">
    </label>

    <button onclick="undo()">â†©ï¸ ì‹¤í–‰ì·¨ì†Œ</button>
    <button id="toggleToolBtn" onclick="toggleTool()">ğŸ§½ ì§€ìš°ê°œ</button>
  </div>

  <!-- ê³„ì‚°ê¸° -->
  <div id="calculator">
    <input type="text" id="display" readonly tabindex="0" />
    <div class="buttons">
      <button onclick="append('7')">7</button>
      <button onclick="append('8')">8</button>
      <button onclick="append('9')">9</button>
      <button onclick="append('/')">/</button>

      <button onclick="append('4')">4</button>
      <button onclick="append('5')">5</button>
      <button onclick="append('6')">6</button>
      <button onclick="append('*')">Ã—</button>

      <button onclick="append('1')">1</button>
      <button onclick="append('2')">2</button>
      <button onclick="append('3')">3</button>
      <button onclick="append('-')">-</button>

      <button onclick="append('0')">0</button>
      <button onclick="append('.')">.</button>
      <button onclick="calculate()">=</button>
      <button onclick="append('+')">+</button>

      <button onclick="clearDisplay()" style="grid-column: span 4; background-color: #f44336; color: white;">C</button>
    </div>
  </div>

  <!-- ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ì—°ê²° -->
  <script src="script.js"></script>
</body>
</html>
```

ì…‹íŒ…ë!!

~~*ì´ì œí•‘ê³„ë¥¼ë‹¤ìƒì—‡ë‹¤..ì§„ì§œê³µë¶€í•´ì•¼í•¨*~~

#

